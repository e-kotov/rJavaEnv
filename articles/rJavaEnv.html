<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Quick Start Guide: Java Setup for ‘R’ Projects • rJavaEnv</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="rJavaEnv_files/libs/quarto-html/popper.min.js"></script><script src="rJavaEnv_files/libs/quarto-html/tippy.umd.min.js"></script><link href="rJavaEnv_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="rJavaEnv_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Quick Start Guide: Java Setup for ‘R’ Projects">
<meta property="og:image" content="https://www.ekotov.pro/rJavaEnv/reference/figures/card.png">
<meta property="og:image:alt" content="rJavaEnv: Java Environments for R Projects. Install and manage Java environments using R">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@EgorKotov">
<meta name="twitter:site" content="@EgorKotov">
<!-- counter.dev analytics --><script data-goatcounter="https://jukadipos.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script><!-- counter.dev analytics --><script src="https://cdn.counter.dev/script.js" data-id="7e3e8d31-9a84-48b0-a678-a00715236a90" data-utcoffset="1"></script><script>
 (function(h,o,t,j,a,r){
     h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
     h._hjSettings={hjid:3578286,hjsv:6};
     a=o.getElementsByTagName('head')[0];
     r=o.createElement('script');r.async=1;
     r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
     a.appendChild(r);
 })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rJavaEnv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/rJavaEnv.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/rJavaEnv-step-by-step.html">Step-by-step: Download, Install, and Setup `Java` for 'R' Projects</a></li>
    <li><a class="dropdown-item" href="../articles/multiple-java-with-targets-callr.html">Multiple `Java` environments in one project with `targets` and `callr`</a></li>
    <li><a class="dropdown-item" href="../articles/why-rJavaEnv.html">Why rJavaEnv: the landscape of 'Java'-dependent R packages</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/e-kotov/rJavaEnv/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Quick Start Guide: <code>Java</code> Setup for ‘R’ Projects</h1>




      <small class="dont-index">Source: <a href="https://github.com/e-kotov/rJavaEnv/blob/main/vignettes/rJavaEnv.qmd" class="external-link"><code>vignettes/rJavaEnv.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <p>This guide will walk you through downloading, installing, and managing <code>Java</code> environments for your R projects using the <code>rJavaEnv</code> package. We’ll cover setting up the environment, un-setting it, managing distributions, installing <code>Java</code>, and checking <code>Java</code> versions. For more advanced use refer to the vignettes on <a href="rJavaEnv-step-by-step.qmd">step-by-step fine-grained procedure to download, unpack, install and linke <code>Java</code></a> and <a href="multiple-java-with-targets-callr.qmd">vignette on using <code>rJavaEnv</code> with the <code>targets</code> and <code>callr</code> packages to manage multiple <code>Java</code> environments</a></p>
<section class="level3"><h3 id="quickly-download-and-install-java">1. Quickly Download and Install Java<a class="anchor" aria-label="anchor" href="#quickly-download-and-install-java"></a>
</h3>
<section class="level4"><h4 id="install-rjavaenv">
<strong>Install <code>rJavaEnv</code></strong><a class="anchor" aria-label="anchor" href="#install-rjavaenv"></a>
</h4>
<p>Install <code>rJavaEnv</code> from CRAN:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rJavaEnv"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Or install the latest version of <code>rJavaEnv</code> from R universe:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'rJavaEnv'</span>,</span>
<span>  repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://e-kotov.r-universe.dev'</span>, <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</section><section class="level4"><h4 id="quick-install-java-jdk">
<strong>Quick Install <code>Java</code> JDK</strong><a class="anchor" aria-label="anchor" href="#quick-install-java-jdk"></a>
</h4>
<p>Assume your project directory is currently in a temporary directory. Feel free to skip that, if you are already working in a desired project directory where you would like to install <code>Java</code>. In the example outputs below you will see paths that point to a temporary directory, but in a real project you would see your project directory instead.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">project_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">project_dir</span><span class="op">)</span></span></code></pre></div>
</div>
<p>The first time you run any function that requires writing into your home space, you will be provided with a prompt warning you that the package may write to the package cache folder in your home directory, to your current project directory, as well as to the .Rprofile file in your project directory (or any directory you specify).</p>
<p>To quickly install <code>Java</code> JDK 21 (which is also default, if not specified) in your current project directory and set the environment:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/e-kotov/rJavaEnv" class="external-link">rJavaEnv</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/java_quick_install.html">java_quick_install</a></span><span class="op">(</span>version <span class="op">=</span> <span class="fl">21</span><span class="op">)</span></span></code></pre></div>
</div>
<p><strong>On first run, you will be asked for consent to change your environment variables and <code>.Rprofile</code> file in the current working/project directory. This only happens once.</strong></p>
<p>The command above:</p>
<ul>
<li><p>Downloads the <code>Java</code> distribution compatible with your OS and architecture.</p></li>
<li><p>Installs <code>Java</code> in a cache directory.</p></li>
<li><p>Sets the <code>JAVA_HOME</code> and <code>PATH</code> environment variables for the current session and project/working directory, so that any <code>Java</code>/<code>rJava</code> dependent <code>R</code> package can use this requested <code>Java</code> version.</p></li>
</ul>
<p>Example expected output (on a Windows machine):</p>
<pre><code>Consent has been granted and recorded.
Detected platform: windows
Detected architecture: x64
You can change the platform and architecture by specifying the `platform` and `arch` arguments.
Downloading Java 21 (Corretto) for windows x64 to C:\Users\user_name\AppData\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-21-x64-windows-jdk.zip
 [100%] Downloaded 201696048 bytes...
Download completed.
MD5 checksum verified.
v Current R Session: JAVA_HOME and PATH set to C:\Users\user_name\AppData\Local/R/cache/R/rJavaEnv/installed/windows/x64/21
v Current R Project/Working Directory: JAVA_HOME and PATH set to 'C:\Users\user_name\AppData\Local/R/cache/R/rJavaEnv/installed/windows/x64/21' in .Rprofile at 'C:/Users/user_name/AppData/Local/Temp/75/
RtmpuoG3xJ'
Java 21 (amazon-corretto-21-x64-windows-jdk.zip) for windows x64 installed at C:\Users\user_name\AppData\Local/R/cache/R/rJavaEnv/installed/windows/x64/21 and symlinked to
C:/Users/user_name/AppData/Local/Temp/75/RtmpuoG3xJ/rjavaenv/windows/x64/21</code></pre>
<p>That is it. You can now use your <code>Java</code>/<code>rJava</code>-dependent <code>R</code> package.</p>
</section></section><section class="level3"><h3 id="check-java-installation">2. <strong>Check <code>Java</code> installation</strong>
<a class="anchor" aria-label="anchor" href="#check-java-installation"></a>
</h3>
<p>You can check if the newly installed <code>Java</code> will be correctly picked up by the <code>Java</code>/<code>rJava</code>-dependent <code>R</code> package that you are going to use with.</p>
<p>For <code>R</code> packages that use <code>Java</code> via <code>rJava</code>-dependency (e.g. <a href="https://github.com/ipeaGIT/r5r" target="_blank" class="external-link"><code>r5r</code></a>), you can use the following command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/java_check_version_rjava.html">java_check_version_rjava</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Example expected output (on a Windows machine):</p>
<pre><code>Using current session's JAVA_HOME: C:\Users\user_name\AppData\Local/R/cache/R/rJavaEnv/installed/windows/x64/21
With the user-specified JAVA_HOME rJava and other rJava/Java-based packages will use Java version: "21.0.4"
[1] TRUE</code></pre>
<p>For <code>R</code> packages that use <code>Java</code> from command line (e.g. <a href="https://github.com/ropensci/opentripplanner" target="_blank" class="external-link"><code>opentripplanner</code></a>), you can use the following command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/java_check_version_cmd.html">java_check_version_cmd</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Example expected output (on a Windows machine):</p>
<pre><code>java_check_version_cmd()
JAVA_HOME: C:\Users\user_name\AppData\Local/R/cache/R/rJavaEnv/installed/windows/x64/21
Java path: /c/Users/user_name/AppData/Local/R/cache/R/rJavaEnv/installed/windows/x64/21/bin/java
Java version: "openjdk version \"21.0.4\" 2024-07-16 LTS OpenJDK Runtime Environment Corretto-21.0.4.7.1 (build 21.0.4+7-LTS) OpenJDK 64-Bit Server VM Corretto-21.0.4.7.1 (build 21.0.4+7-LTS,
mixed mode, sharing)"
[1] TRUE</code></pre>
<section class="level4"><h4 id="note-linux">Note for Linux users<a class="anchor" aria-label="anchor" href="#note-linux"></a>
</h4>
<p>Note: if you are on a Linux system that did not have any <code>Java</code> version previoulsy installed and you are not using pre-build <code>R</code> package binaries (for example from ‘Posit Package Manager’) and instead install all <code>R</code> packages from source, after this step you may have to quit <code>R</code>, <a href="https://solutions.posit.co/envs-pkgs/using-rjava/#reconfigure-r" target="_blank" class="external-link">follow these steps</a> to set configure <code>Java</code> for <code>R</code>, and only then install <code>rJava</code>, as otherwise <code>rJava</code> cannot be built from source.*</p>
</section></section><section class="level3"><h3 id="return-things-to-their-original-state">3. Return things to their original state<a class="anchor" aria-label="anchor" href="#return-things-to-their-original-state"></a>
</h3>
<section class="level4"><h4 id="unset-java">Unset <code>Java</code>
<a class="anchor" aria-label="anchor" href="#unset-java"></a>
</h4>
<p>Run the following code to unset the <code>Java</code> for the current working directory:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/java_env_unset.html">java_env_unset</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Example expected output (on a Windows machine):</p>
<pre><code>Removed JAVA_HOME settings from .Rprofile in 'C:/Users/user_name/AppData/Local/Temp/75/RtmpuoG3xJ/.Rprofile'</code></pre>
</section><section class="level4"><h4 id="delete-java-from-the-project-directory">Delete <code>Java</code> from the project directory<a class="anchor" aria-label="anchor" href="#delete-java-from-the-project-directory"></a>
</h4>
<p>The line below clears all <code>Java</code> installations in the project directory:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/java_clear.html">java_clear</a></span><span class="op">(</span><span class="st">"project"</span>, delete_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Example expected output:</p>
<pre><code>All Java symlinks in the project have been cleared.</code></pre>
<p>Now restart the current <code>R</code> session so that <code>R</code> picks up the system <code>Java</code> (or no <code>Java</code>, if it is not installed in the system).</p>
</section></section><section class="level3"><h3 id="complete-cleanup">4. Complete Cleanup<a class="anchor" aria-label="anchor" href="#complete-cleanup"></a>
</h3>
<p>If you do not want to use <code>rJavaEnv</code> anymore, please clear the cache folders before removing the package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/java_clear.html">java_clear</a></span><span class="op">(</span><span class="st">"project"</span>, delete_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/java_clear.html">java_clear</a></span><span class="op">(</span><span class="st">"installed"</span>, delete_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/java_clear.html">java_clear</a></span><span class="op">(</span><span class="st">"distrib"</span>, delete_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Also, clear the <code>.Rprofile</code> file in the projects there you used the package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/java_env_unset.html">java_env_unset</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Now you can remove the package and restart the current <code>R</code> session so that <code>R</code> picks up the system <code>Java</code> (or no <code>Java</code>, if it is not installed in the system).</p>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.ekotov.pro" class="external-link">Egor Kotov</a>, Chung-hong Chan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
