[{"path":[]},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement kotov.egor@gmail.com. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to rJavaEnv","title":"Contributing to rJavaEnv","text":"outlines propose change rJavaEnv. detailed discussion contributing tidyverse packages, please see development contributing guide code review principles.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to rJavaEnv","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to rJavaEnv","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed). See guide create great issue advice.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to rJavaEnv","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"e-kotov/rJavaEnv\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to rJavaEnv","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to rJavaEnv","text":"Please note rJavaEnv project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 rJavaEnv authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"the-critical-decision-does-your-package-use-rjava","dir":"Articles","previous_headings":"","what":"The Critical Decision: Does Your Package Use rJava?","title":"Using rJavaEnv in R Packages","text":"using rJavaEnv, must categorize package one two scenarios. distinction critical rJava introduces “locking” constraint fundamentally changes must manage Java. Scenario : Command-Line Java (rJava dependency) package calls Java executables via system(), system2(), processx. Imports: rJava DESCRIPTION. Scenario B: rJava Dependency (Common) package Imports: rJava Depends: rJava, executes code uses rJava functions.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"scenario-a-packages-using-command-line-java-no-rjava","dir":"Articles","previous_headings":"","what":"Scenario A: Packages Using Command-Line Java (No rJava)","title":"Using rJavaEnv in R Packages","text":"scenario, flexibility. Java version locked R session. can use different Java versions different tasks change dynamically. However, modifying global JAVA_HOME PATH environment variables might accidentally affect parts user’s workflow. avoid , use scoped approach. rJavaEnv package provides scoped helper handles everything one line. ensures Java installed, sets environment function, automatically cleans afterwards. [!WARNING] use local_java_env() with_java_env() package depends rJava. rJava locks JVM initialization switch versions within session. rJava packages, see Scenario B . ensures : 1. code runs correct Java version. 2. user’s JAVA_HOME restored immediately function exits. 3. don’t need write manual .exit() cleanup code. prefer block-scoped execution: function calls Java multiple times (e.g., inside loop), enable caching avoid 30-200ms overhead version checks call: default, accept_system_java = TRUE. rJavaEnv first check suitable Java version exists system. found, uses without downloading anything. efficient recommended. strictly require isolated, reproducible environment (ignoring user’s system Java), set accept_system_java = FALSE install = TRUE.","code":"#' Run my Java tool (using system2) #' @export run_my_tool <- function(input_file) {   rJavaEnv::local_java_env(version = 21)   system2(\"java\", c(\"-jar\", \"tool.jar\", input_file)) } # Environment restored automatically here  #' Run my Java tool (using processx) #' @export run_my_tool_px <- function(input_file) {   rJavaEnv::local_java_env(version = 21)   processx::run(\"java\", c(\"-jar\", \"tool.jar\", input_file)) } # With system2 rJavaEnv::with_java_env(version = 21, {   system2(\"java\", \"-version\") })  # With processx rJavaEnv::with_java_env(version = 21, {   processx::run(\"java\", c(\"-jar\", \"tool.jar\", \"--help\")) }) process_files <- function(files) {   for (f in files) {     rJavaEnv::local_java_env(version = 21, .use_cache = TRUE)     processx::run(\"java\", c(\"-jar\", \"processor.jar\", f))   } }"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"recommended-pattern-local_java_env","dir":"Articles","previous_headings":"Scenario A: Packages Using Command-Line Java (No rJava)","what":"Recommended Pattern: local_java_env()","title":"Using rJavaEnv in R Packages","text":"rJavaEnv package provides scoped helper handles everything one line. ensures Java installed, sets environment function, automatically cleans afterwards. [!WARNING] use local_java_env() with_java_env() package depends rJava. rJava locks JVM initialization switch versions within session. rJava packages, see Scenario B . ensures : 1. code runs correct Java version. 2. user’s JAVA_HOME restored immediately function exits. 3. don’t need write manual .exit() cleanup code.","code":"#' Run my Java tool (using system2) #' @export run_my_tool <- function(input_file) {   rJavaEnv::local_java_env(version = 21)   system2(\"java\", c(\"-jar\", \"tool.jar\", input_file)) } # Environment restored automatically here  #' Run my Java tool (using processx) #' @export run_my_tool_px <- function(input_file) {   rJavaEnv::local_java_env(version = 21)   processx::run(\"java\", c(\"-jar\", \"tool.jar\", input_file)) }"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"using-with_java_env","dir":"Articles","previous_headings":"Scenario A: Packages Using Command-Line Java (No rJava)","what":"Using with_java_env()","title":"Using rJavaEnv in R Packages","text":"prefer block-scoped execution:","code":"# With system2 rJavaEnv::with_java_env(version = 21, {   system2(\"java\", \"-version\") })  # With processx rJavaEnv::with_java_env(version = 21, {   processx::run(\"java\", c(\"-jar\", \"tool.jar\", \"--help\")) })"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"performance-using--use_cache","dir":"Articles","previous_headings":"Scenario A: Packages Using Command-Line Java (No rJava)","what":"Performance: Using .use_cache","title":"Using rJavaEnv in R Packages","text":"function calls Java multiple times (e.g., inside loop), enable caching avoid 30-200ms overhead version checks call:","code":"process_files <- function(files) {   for (f in files) {     rJavaEnv::local_java_env(version = 21, .use_cache = TRUE)     processx::run(\"java\", c(\"-jar\", \"processor.jar\", f))   } }"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"controlling-whether-to-use-system-java","dir":"Articles","previous_headings":"Scenario A: Packages Using Command-Line Java (No rJava)","what":"Controlling Whether to Use System Java","title":"Using rJavaEnv in R Packages","text":"default, accept_system_java = TRUE. rJavaEnv first check suitable Java version exists system. found, uses without downloading anything. efficient recommended. strictly require isolated, reproducible environment (ignoring user’s system Java), set accept_system_java = FALSE install = TRUE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"scenario-b-packages-importing-rjava","dir":"Articles","previous_headings":"","what":"Scenario B: Packages Importing rJava","title":"Using rJavaEnv in R Packages","text":"package calls rJava (imports package ), face strict constraint: rJava Lock: rJava initialized (loaded), Java version locked entire R session. changed without restarting R. Implications: - set Java package’s .onLoad inside functions. time package loads, rJava likely already initializing, initialize moment call . - must instruct users set Java loading package. Since fix environment automatically rJava loads, best practice detect issues immediately instruct user. Add check .onLoad function using java_check_compatibility. user sees: user running Java 8, immediately see: want guarantee specific Java environment without relying user’s setup, can run rJava code subprocess. bypasses lock main session. Requirements: 1. Add callr Suggests. 2. function must rely objects existing main session (stateless execution). Use java_ensure package code ’s lenient efficient. goal make setup process easy possible users. Add rJavaEnv DESCRIPTION: README vignette, provide clear instructions. Java Requirement package requires Java 21+. see errors, run: make even easier, can export setup function users can call run issues. function can leverage java_ensure(install = TRUE) interactively guide .","code":"# In R/zzz.R .onLoad <- function(libname, pkgname) {   # Check if the active Java version is at least 21   # If not, warn the user and explain how to fix it via rJavaEnv   rJavaEnv::java_check_compatibility(version = 21, type = \"min\", action = \"warn\") } Warning: Java version mismatch. Current loaded Java: 8 Required Java: >= 21 ! Because rJava is already initialized, you must restart R to switch versions.   To fix this, restart R and run:   rJavaEnv::use_java(21)   BEFORE loading this package. #' Run a heavy calculation in a Java 21 subprocess #' @export run_heavy_calc <- function(input_data) {   rJavaEnv::with_rjava_env(     version = 21,     func = function(df) {       rJava::.jinit()       # Process df using rJava...       nrow(df)  # Return actual result     },     args = list(df = input_data)   ) } Imports:     rJava,     rJavaEnv library(rJavaEnv) java_ensure(version = 21, type = \"min\") # RESTART R session library(your_package) #' Install and Configure Java #' @export setup_java <- function() {   # Interactive check and install   rJavaEnv::java_ensure(version = 21, type = \"min\", install = TRUE)      message(\"Java setup complete. Please RESTART your R session for changes to take effect.\") }"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"pattern-1-the-guard-recommended","dir":"Articles","previous_headings":"Scenario B: Packages Importing rJava","what":"Pattern 1: The Guard (Recommended)","title":"Using rJavaEnv in R Packages","text":"Since fix environment automatically rJava loads, best practice detect issues immediately instruct user. Add check .onLoad function using java_check_compatibility. user sees: user running Java 8, immediately see:","code":"# In R/zzz.R .onLoad <- function(libname, pkgname) {   # Check if the active Java version is at least 21   # If not, warn the user and explain how to fix it via rJavaEnv   rJavaEnv::java_check_compatibility(version = 21, type = \"min\", action = \"warn\") } Warning: Java version mismatch. Current loaded Java: 8 Required Java: >= 21 ! Because rJava is already initialized, you must restart R to switch versions.   To fix this, restart R and run:   rJavaEnv::use_java(21)   BEFORE loading this package."},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"pattern-2-process-isolation-advanced","dir":"Articles","previous_headings":"Scenario B: Packages Importing rJava","what":"Pattern 2: Process Isolation (Advanced)","title":"Using rJavaEnv in R Packages","text":"want guarantee specific Java environment without relying user’s setup, can run rJava code subprocess. bypasses lock main session. Requirements: 1. Add callr Suggests. 2. function must rely objects existing main session (stateless execution).","code":"#' Run a heavy calculation in a Java 21 subprocess #' @export run_heavy_calc <- function(input_data) {   rJavaEnv::with_rjava_env(     version = 21,     func = function(df) {       rJava::.jinit()       # Process df using rJava...       nrow(df)  # Return actual result     },     args = list(df = input_data)   ) }"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"choosing-between-use_java-and-java_ensure","dir":"Articles","previous_headings":"Scenario B: Packages Importing rJava","what":"Choosing Between use_java and java_ensure","title":"Using rJavaEnv in R Packages","text":"Use java_ensure package code ’s lenient efficient.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"strategy-inform-and-guide","dir":"Articles","previous_headings":"Scenario B: Packages Importing rJava","what":"Strategy: “Inform and Guide”","title":"Using rJavaEnv in R Packages","text":"goal make setup process easy possible users. Add rJavaEnv DESCRIPTION: README vignette, provide clear instructions. Java Requirement package requires Java 21+. see errors, run: make even easier, can export setup function users can call run issues. function can leverage java_ensure(install = TRUE) interactively guide .","code":"Imports:     rJava,     rJavaEnv library(rJavaEnv) java_ensure(version = 21, type = \"min\") # RESTART R session library(your_package) #' Install and Configure Java #' @export setup_java <- function() {   # Interactive check and install   rJavaEnv::java_ensure(version = 21, type = \"min\", install = TRUE)      message(\"Java setup complete. Please RESTART your R session for changes to take effect.\") }"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"add-rjavaenv-to-imports","dir":"Articles","previous_headings":"Scenario B: Packages Importing rJava","what":"1. Add rJavaEnv to Imports","title":"Using rJavaEnv in R Packages","text":"Add rJavaEnv DESCRIPTION:","code":"Imports:     rJava,     rJavaEnv"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"document-the-requirement","dir":"Articles","previous_headings":"Scenario B: Packages Importing rJava","what":"2. Document the Requirement","title":"Using rJavaEnv in R Packages","text":"README vignette, provide clear instructions. Java Requirement package requires Java 21+. see errors, run:","code":"library(rJavaEnv) java_ensure(version = 21, type = \"min\") # RESTART R session library(your_package)"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"optional-provide-a-setup-helper","dir":"Articles","previous_headings":"Scenario B: Packages Importing rJava","what":"3. Optional: Provide a Setup Helper","title":"Using rJavaEnv in R Packages","text":"make even easier, can export setup function users can call run issues. function can leverage java_ensure(install = TRUE) interactively guide .","code":"#' Install and Configure Java #' @export setup_java <- function() {   # Interactive check and install   rJavaEnv::java_ensure(version = 21, type = \"min\", install = TRUE)      message(\"Java setup complete. Please RESTART your R session for changes to take effect.\") }"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"performance-caching","dir":"Articles","previous_headings":"","what":"Performance & Caching","title":"Using rJavaEnv in R Packages","text":"Regardless scenario, rJavaEnv performs checks ensure Java ready. avoid performance penalties (approx. 30-200ms per check), rJavaEnv supports session-level caching. Inside functions called repeatedly: function calling java_ensure inside loop, enable caching. .onLoad checks: keep package startup fast. first call takes time (verify system state), subsequent calls session return <1ms.","code":"# Fast check using cache rJavaEnv::java_check_version_cmd(quiet = TRUE, .use_cache = TRUE)"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"when-to-use--use_cache-true","dir":"Articles","previous_headings":"Performance & Caching","what":"When to use .use_cache = TRUE","title":"Using rJavaEnv in R Packages","text":"Inside functions called repeatedly: function calling java_ensure inside loop, enable caching. .onLoad checks: keep package startup fast. first call takes time (verify system state), subsequent calls session return <1ms.","code":"# Fast check using cache rJavaEnv::java_check_version_cmd(quiet = TRUE, .use_cache = TRUE)"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"debugging","dir":"Articles","previous_headings":"","what":"Debugging","title":"Using rJavaEnv in R Packages","text":"Java setup isn’t working expected, use quiet = FALSE see rJavaEnv checking:","code":"# See all resolution steps rJavaEnv::java_ensure(version = 21, quiet = FALSE)  # Check what Java is currently active rJavaEnv::java_check_version_cmd(quiet = FALSE)  # See all system Java installations rJavaEnv::java_find_system(quiet = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/for-developers.html","id":"cicd-github-actions","dir":"Articles","previous_headings":"","what":"CI/CD (GitHub Actions)","title":"Using rJavaEnv in R Packages","text":"Ensure Java available CI workflows. Option : Standard generic action (Recommended) Option B: Using rJavaEnv","code":"- uses: actions/setup-java@v4   with:     distribution: 'corretto'     java-version: '21' - name: Install Java via rJavaEnv   run: |     install.packages(\"rJavaEnv\")     rJavaEnv::java_ensure(version = 21, type = \"min\")   shell: Rscript {0}"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/install-rjava-from-source.html","id":"install-java","dir":"Articles","previous_headings":"","what":"1. Install Java","title":"Install rJava from source","text":"can use detailed step--step process step--step vignette download, unpack, install link Java JDK desired version, simplicity, let’s use shortcut functions Either quick install Java current project directory: Note might also java_home <- java_quick_install(version = 21), save path installed Java home directory java_home variable later use, function set build environment actually uses JAVA_HOME environment variable set java_quick_install() default, ’s necessary. can simply : essentially java_quick_install(), sets JAVA_HOME PATH environment variables current R session, without modifying .Rprofile file copying/linking installation folder project directory.","code":"java_quick_install(version = 21) use_java(21)"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/install-rjava-from-source.html","id":"set-the-environment-for-building-rjava","dir":"Articles","previous_headings":"","what":"2. Set the environment for building rJava","title":"Install rJava from source","text":"Now simply use: , java_build_env_set detect platform architecture set correct environment variables. want advanced control, can use java_home set custom JAVA_HOME path, use ='project' set environment variables .Rprofile file current project directory. See ?java_build_env_set details. java_build_env_set() completes, print OS-specific notes. summary, Linux, may need install several system dependencies. Debian/Ubuntu, can done : bash     sudo apt-get update && sudo apt-get install -y ---install-recommends libpcre2-dev libdeflate-dev libzstd-dev liblzma-dev libbz2-dev zlib1g-dev libicu-dev && sudo rm -rf /var/lib/apt/lists/* Windows, Rtools required. can download https://cran.r-project.org/bin/windows/Rtools/. macOS, ’ll need Xcode Command Line Tools. Install running: bash     xcode-select --install","code":"java_build_env_set()"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/install-rjava-from-source.html","id":"install-rjava-from-source","dir":"Articles","previous_headings":"","what":"3. Install rJava from source","title":"Install rJava from source","text":"Now ready install rJava source: Linux distribution pre-configured Posit Package Manager (PPM) repository serves pre-compiled binaries even type=\"source\" (similar situation Windows macOS), can use repos = \"https://cloud.r-project.org\" force installation source: . successfully installed rJava source. restart R session, build-related environment variables reset. use newly installed rJava package just : Order Matters: use_java() library(rJava) order operations critical. must call use_java(21) (java_ensure()) loading library(rJava). rJava locks Java version active first initializes (see rJava issues #25, #249, #334). load rJava first without setting Java environment (call library() package depends rJava imports ), rJava use whatever system Java finds, change calling use_java() afterwards session. Correct order: Incorrect order (won’t work):","code":"install.packages(\"rJava\", type = \"source\") install.packages(\"rJava\", type = \"source\", repos = \"https://cloud.r-project.org\") library(rJavaEnv) use_java(21) # or whatever version you installed library(rJava) library(rJavaEnv) use_java(21)              # Set Java FIRST library(rJava)            # Load rJava SECOND (uses Java 21) library(rJava)             # rJava loads and locks to system Java library(rJavaEnv) use_java(21)              # Too late! rJava is already locked"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/multiple-java-with-targets-callr.html","id":"how-to-use-use_java","dir":"Articles","previous_headings":"","what":"How to use use_java()","title":"Multiple Java environments in one project with targets and callr","text":"Let’s illustrate simple example. First, load package check valid major versions Java: Note available versions Java depend OS architecture, might see shorter list system. Now select two three versions run use_java(), checking every time correct java set current environment. probably wait bit Java distribution downloaded unpacked. However, now repeat commands, see correct Java version set instantly, downloading unpacking skipped.","code":"library(rJavaEnv) java_valid_versions() [1] \"8\"  \"11\" \"15\" \"16\" \"17\" \"18\" \"19\" \"20\" \"21\" \"22\" \"23\" \"24\" use_java(\"8\") \"8\" == java_check_version_cmd(quiet = TRUE) \"8\" == java_check_version_rjava(quiet = TRUE) [1] TRUE [1] TRUE use_java(17) \"17\" == java_check_version_cmd(quiet = TRUE) \"17\" == java_check_version_rjava(quiet = TRUE) [1] TRUE [1] TRUE use_java(21) \"21\" == java_check_version_cmd(quiet = TRUE) \"21\" == java_check_version_rjava(quiet = TRUE) [1] TRUE [1] TRUE"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/multiple-java-with-targets-callr.html","id":"how-to-use-with-targets-and-callr","dir":"Articles","previous_headings":"","what":"How to use with targets and callr","title":"Multiple Java environments in one project with targets and callr","text":"{targets} {callr} packages allow user run R scripts clean separate R sessions. essentially allows user run multiple versions Java one project targets callr, mostly overcoming issue manually switching Java versions one project. One simple thing can one scripts needs Java 8, another one needs Java 17, insert use_java() beginning scripts run targets callr like : : first run script go process downloading unpacking Java distribution. second run need download unpacking instant. need runs instant first attempt, can pre-download pre-install Java cache folders using:","code":"library(rJavaEnv) use_java(\"17\") rJavaEnv::use_java(\"17\") java_17_distrib <- java_download(\"17\") java_unpack(java_17_distrib)"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv-step-by-step.html","id":"set-up-cache-folder-location","dir":"Articles","previous_headings":"","what":"1. Set-up cache folder location","title":"Step-by-step: Download, Install, and Setup Java for ‘R’ Projects","text":"can specify cache folder location rJavaEnv.cache_path option. default location set whichever path returned tools::R_user_dir(\"rJavaEnv\", = \"cache\"). exact path depend operating system. recommendation leave option ’s default setting. similar renv package manages cache R packages. can view current cache location : Expected output (Windows machine): Expected output (macOS machine):","code":"options(rJavaEnv.cache_path = \"/path/to/your/desired/cache/folder\") getOption(\"rJavaEnv.cache_path\") \"C:\\\\Users\\\\user_name\\\\AppData\\\\Local/R/cache/R/rJavaEnv\" \"/Users/user_name/Library/Caches/org.R-project.R/R/rJavaEnv\""},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv-step-by-step.html","id":"list-available-java-versions","dir":"Articles","previous_headings":"","what":"2. List available Java versions","title":"Step-by-step: Download, Install, and Setup Java for ‘R’ Projects","text":"downloading, can check versions available. default, rJavaEnv checks specific vendor APIs (Native backend), can also query SDKMAN.","code":"# List versions from native backends (Corretto, Temurin, Zulu) java_list_available()  # List versions from SDKMAN java_list_available(backend = \"sdkman\")"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv-step-by-step.html","id":"download-java-jdk-distributions","dir":"Articles","previous_headings":"","what":"3. Download Java JDK distributions","title":"Step-by-step: Download, Install, and Setup Java for ‘R’ Projects","text":"download specific Java distribution, use java_download function: Expected output (Windows machine): function download specified version Java JDK (currently defaults supported Corretto distribution Amazon, added new package releases). function returns path downloaded distribution file, just zip gz archive. default, cache_path specified calling java_download(), distribution downloaded folder defined getOption(\"rJavaEnv.cache_path\"). argument can override globally set cache folder location single download. java_download() also allows define operating system processor architecture function arguments platform arch (please see function documentation using ?rJavaEnv::java_download). example, may useful packaging Java distribution Linux using Windows macOS machine. may also useful reason automatic OS CPU detection fails. example, line download Amazon Corretto Java JDK version 8 x86-64 Linux, even though may running code aarch64 macOS x86_64 Windows machine: Example expected output (Windows machine): MD5 checksum verified. ::: Example expected output:","code":"java_17_distr <- java_download(version = 17) java_17_distr Detected platform: windows Detected architecture: x64 You can change the platform and architecture by specifying the `platform` and `arch` arguments. Downloading Java 17 (Corretto) for windows x64 to C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-17-x64-windows-jdk.zip  [100%] Downloaded 187323560 bytes... Download completed. MD5 checksum verified. [1] \"C:\\\\Users\\\\user_name\\\\AppData\\\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-17-x64-windows-jdk.zip\" java_8_linux64_distr <- java_download(   version = 8,   platform = \"linux\",   arch = \"x64\" ) Detected platform: linux Detected architecture: x64 You can change the platform and architecture by specifying the `platform` and `arch` arguments. Downloading Java 8 (Corretto) for linux x64 to C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-8-x64-linux-jdk.tar.gz  [100%] Downloaded 118096667 bytes... Download completed. MD5 checksum verified. ## Using SDKMAN Backend  You can also download distributions using the SDKMAN backend. Note that SDKMAN does not provide checksums for verification.   ::: {.cell}  ```{.r .cell-code} java_21_sdkman <- java_download(   version = 21,   distribution = \"Temurin\",   backend = \"sdkman\" ) Detected platform: windows Detected architecture: x64 Downloading Temurin Java 21...  [100%] Downloaded 201696048 bytes... ! Skipping checksum (unavailable for SDKMAN)"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv-step-by-step.html","id":"manage-downloaded-java-jdk-distributions","dir":"Articles","previous_headings":"","what":"4. Manage downloaded Java JDK distributions","title":"Step-by-step: Download, Install, and Setup Java for ‘R’ Projects","text":"can manage downloaded distributions java_list java_clear functions. Expected output (Windows machine): Example expected output (Windows machine): can also delete downloaded distributions without consent : Example expected output:","code":"java_list_distrib() java_distr_path 1 C:\\\\Users\\\\user_name\\\\AppData\\\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-17-x64-windows-jdk.zip 2 C:\\\\Users\\\\user_name\\\\AppData\\\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-21-x64-windows-jdk.zip 3 C:\\\\Users\\\\user_name\\\\AppData\\\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-8-x64-linux-jdk.tar.gz java_clear_distrib() i Existing Java distributions: 1: C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-17-x64-windows-jdk.zip 2: C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-21-x64-windows-jdk.zip 3: C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-8-x64-linux-jdk.tar.gz i Enter the number of the distribution to delete, 'all' to delete all, or '0' or any other character to cancel: java_clear_distrib(delete_all = TRUE) Java distributions cache cleared."},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv-step-by-step.html","id":"install-from-downloaded-java-jdk-distributions-into-current-project","dir":"Articles","previous_headings":"","what":"5. Install from downloaded Java JDK distributions into current project","title":"Step-by-step: Download, Install, and Setup Java for ‘R’ Projects","text":"cleared downloaded Java distributions, let us re-download : Now downloaded Java distributions, can install one project. Installation context rJavaEnv means extracting distribution installed cache folder (root cache directory zip archives distributions), linking files (via symlinks macOS Linux, junctions Windows1). set autoset_java_env argument FALSE need set JAVA_HOME PATH environment variables manually. Example expected output (Windows machine): leave autoset_java_env = TRUE default option, install_java() function automatically set JAVA_HOME PATH environment variables manually current R session current project/working directory writing lines .Rprofile file current working directory. way time start R session, JAVA_HOME PATH environment variables set correct path installed Java distribution. Alternatively, may want install Java project, just unpack distribution cache folder. , can use java_unpack() function, passing path downloaded Java distribution : java_unpack return full path unpacked Java distribution can use set environment variables section using java_env_set().","code":"java_8_distr <- java_download(8) java_17_distr <- java_download(17) java_22_distr <- java_download(22) java_install(   java_distrib_path = java_17_distr,   autoset_java_env = FALSE ) Java 17 (amazon-corretto-17-x64-windows-jdk.zip) for windows x64 installed at C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/Corretto/native/17 and symlinked to C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/17 java_home <- java_unpack(java_distr_path = java_8_distr)"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv-step-by-step.html","id":"manually-set-installed-java-environment","dir":"Articles","previous_headings":"","what":"6. Manually set installed Java environment","title":"Step-by-step: Download, Install, and Setup Java for ‘R’ Projects","text":"Let us install another downloaded Java distribution, time autoset_java_env = TRUE: Expected output (Windows machine): can now list Java versions installed project directory: Expected output (Windows machine): first installed Java 17 autoset_java_env = FALSE, installed Java 8 autoset_java_env = TRUE. check version currently set JAVA_HOME environment variable, get second installed Java version, Java 8. Expected output (Windows machine): switch Java 17 need manually set JAVA_HOME PATH environment variables java_env_set(). identify path pass java_env_set(), can use java_list(\"project\") function : Expected output (Windows machine): can see, Java 17 currently number 1 list, save path: Expected output (Windows machine): Now can reuse path java_env_set() function: Expected output (Windows machine): finally can double check version Java going picked Java/rJava-dependent R package going use : Expected output (Windows machine):","code":"java_install(   java_distrib_path = java_8_distr,   autoset_java_env = TRUE ) Java distribution amazon-corretto-8-x64-windows-jdk.zip already unpacked at C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/Corretto/native/8 v Current R Session: JAVA_HOME and PATH set to C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/Corretto/native/8 v Current R Project/Working Directory: JAVA_HOME and PATH set to 'C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/Corretto/native/8' in .Rprofile at 'C:/Users/user_name/AppData/Local/Temp/75/R tmp0MasTW' Java 8 (amazon-corretto-8-x64-windows-jdk.zip) for windows x64 installed at C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/Corretto/native/8 and symlinked to C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/8 java_list_project() path platform arch distribution backend version 1 C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/17  windows  x64    Corretto  native      17 2  C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/8  windows  x64    Corretto  native       8 java_check_version_cmd() JAVA_HOME: C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/Corretto/native/8 Java path: /c/Users/user_name/AppData/Local/R/cache/R/rJavaEnv/installed/windows/x64/Corretto/native/8/bin/java Java version: \"openjdk version \\\"1.8.0_422\\\" OpenJDK Runtime Environment Corretto-8.422.05.1 (build 1.8.0_422-b05) OpenJDK 64-Bit Server VM Corretto-8.422.05.1 (build 25.422-b05, mixed mode)\" [1] TRUE java_list_project() path platform arch distribution backend version 1 C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/17  windows  x64    Corretto  native      17 2  C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/8  windows  x64    Corretto  native       8 java_home_17 <- java_list_project(output = \"vector\")[1] java_home_17 \"C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/17\" java_env_set(where = \"both\", java_home = java_home_17) v Current R Session: JAVA_HOME and PATH set to C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/17 v Current R Project/Working Directory: JAVA_HOME and PATH set to 'C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/17' in .Rprofile at 'C:/Users/user_name/AppData/Local/Temp/75/R tmp0MasTW' java_check_version_cmd() # for pacakges that use Java via commandline, like opentripplanner java_check_version_rjava() # for packages that use Java via `rJava`, like r5r JAVA_HOME: C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/17 Java path: /c/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/17/bin/java Java version: \"openjdk version \\\"17.0.12\\\" 2024-07-16 LTS OpenJDK Runtime Environment Corretto-17.0.12.7.1 (build 17.0.12+7-LTS) OpenJDK 64-Bit Server VM Corretto-17.0.12.7.1 (build 17.0.12+7-LTS, mixed mode, sharing)\" [1] TRUE  Using current session's JAVA_HOME: C:/Users/user_name/AppData/Local/Temp/75/Rtmp0MasTW/rjavaenv/windows/x64/Corretto/native/17 With the user-specified JAVA_HOME rJava and other rJava/Java-based packages will use Java version: \"17.0.12\" [1] TRUE"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv-step-by-step.html","id":"cleanup","dir":"Articles","previous_headings":"","what":"7. Cleanup","title":"Step-by-step: Download, Install, and Setup Java for ‘R’ Projects","text":"want use rJavaEnv anymore, please clear cache folders removing package: Also, clear .Rprofile file projects used package:","code":"java_clear_project(delete_all = TRUE) java_clear_installed(delete_all = TRUE) java_clear_distrib(delete_all = TRUE) java_env_unset()"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"quickly-download-and-install-java","dir":"Articles","previous_headings":"","what":"1. Quickly Download and Install Java","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"Install rJavaEnv CRAN: install latest version rJavaEnv R universe: Assume project directory currently temporary directory. Feel free skip , already working desired project directory like install Java. example outputs see paths point temporary directory, real project see project directory instead. first time run function requires writing home space, provided prompt warning package may write package cache folder home directory, current project directory, well .Rprofile file project directory (directory specify). quickly install Java JDK 21 (also default, specified) current project directory set environment: first run, asked consent change environment variables .Rprofile file current working/project directory. happens . command : Downloads Java distribution compatible OS architecture. Installs Java cache directory. Sets JAVA_HOME PATH environment variables current session project/working directory, Java/rJava dependent R package can use requested Java version. Example expected output (Windows machine): . can now use Java/rJava-dependent R package.","code":"install.packages(\"rJavaEnv\") install.packages(   'rJavaEnv',   repos = c('https://e-kotov.r-universe.dev', 'https://cloud.r-project.org') ) project_dir <- tempdir() setwd(project_dir) library(rJavaEnv) java_quick_install(version = 21) Consent has been granted and recorded. Detected platform: windows Detected architecture: x64 You can change the platform and architecture by specifying the `platform` and `arch` arguments. Downloading Java 21 (Corretto) for windows x64 to C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-21-x64-windows-jdk.zip  [100%] Downloaded 201696048 bytes... Download completed. MD5 checksum verified. v Current R Session: JAVA_HOME and PATH set to C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/21 v Current R Project/Working Directory: JAVA_HOME and PATH set to 'C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/21' in .Rprofile at 'C:/Users/user_name/AppData/Local/Temp/75/ RtmpuoG3xJ' Java 21 (amazon-corretto-21-x64-windows-jdk.zip) for windows x64 installed at C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/21 and symlinked to C:/Users/user_name/AppData/Local/Temp/75/RtmpuoG3xJ/rjavaenv/windows/x64/21"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"install-rjavaenv","dir":"Articles","previous_headings":"","what":"Install rJavaEnv","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"Install rJavaEnv CRAN: install latest version rJavaEnv R universe:","code":"install.packages(\"rJavaEnv\") install.packages(   'rJavaEnv',   repos = c('https://e-kotov.r-universe.dev', 'https://cloud.r-project.org') )"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"quick-install-java-jdk","dir":"Articles","previous_headings":"","what":"Quick Install Java JDK","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"Assume project directory currently temporary directory. Feel free skip , already working desired project directory like install Java. example outputs see paths point temporary directory, real project see project directory instead. first time run function requires writing home space, provided prompt warning package may write package cache folder home directory, current project directory, well .Rprofile file project directory (directory specify). quickly install Java JDK 21 (also default, specified) current project directory set environment: first run, asked consent change environment variables .Rprofile file current working/project directory. happens . command : Downloads Java distribution compatible OS architecture. Installs Java cache directory. Sets JAVA_HOME PATH environment variables current session project/working directory, Java/rJava dependent R package can use requested Java version. Example expected output (Windows machine): . can now use Java/rJava-dependent R package.","code":"project_dir <- tempdir() setwd(project_dir) library(rJavaEnv) java_quick_install(version = 21) Consent has been granted and recorded. Detected platform: windows Detected architecture: x64 You can change the platform and architecture by specifying the `platform` and `arch` arguments. Downloading Java 21 (Corretto) for windows x64 to C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/distrib/amazon-corretto-21-x64-windows-jdk.zip  [100%] Downloaded 201696048 bytes... Download completed. MD5 checksum verified. v Current R Session: JAVA_HOME and PATH set to C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/21 v Current R Project/Working Directory: JAVA_HOME and PATH set to 'C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/21' in .Rprofile at 'C:/Users/user_name/AppData/Local/Temp/75/ RtmpuoG3xJ' Java 21 (amazon-corretto-21-x64-windows-jdk.zip) for windows x64 installed at C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/21 and symlinked to C:/Users/user_name/AppData/Local/Temp/75/RtmpuoG3xJ/rjavaenv/windows/x64/21"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"list-available-java-versions","dir":"Articles","previous_headings":"","what":"2. List Available Java Versions","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"check Java versions available download installation, use: can also list versions provided different backends (e.g., SDKMAN) platforms:","code":"java_list_available() # List versions from SDKMAN java_list_available(backend = \"sdkman\")  # List versions for all platforms (use with caution) java_list_available(platform = \"all\", arch = \"all\")"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"check-java-installation","dir":"Articles","previous_headings":"","what":"3. Check Java installation","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"can check newly installed Java correctly picked Java/rJava-dependent R package going use . R packages use Java via rJava-dependency (e.g. r5r), can use following command: Example expected output (Windows machine): R packages use Java command line (e.g. opentripplanner), can use following command: Example expected output (Windows machine): Linux, rJava package work correctly, ’s enough just set JAVA_HOME PATH variables; libjvm.shared library must also loaded. rJavaEnv package handles automatically current R session also sets project’s .Rprofile file. run java_quick_install() java_env_set(), rJavaEnv also print message necessary command run terminal. command, R CMD javareconf, tells R find Java installation configure system accordingly. administrator (sudo) rights, can configure Java users system. don’t admin rights, can configure just user account adding -e flag.","code":"java_check_version_rjava() Using current session's JAVA_HOME: C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/21 With the user-specified JAVA_HOME rJava and other rJava/Java-based packages will use Java version: \"21.0.4\" [1] TRUE java_check_version_cmd() java_check_version_cmd() JAVA_HOME: C:\\Users\\user_name\\AppData\\Local/R/cache/R/rJavaEnv/installed/windows/x64/21 Java path: /c/Users/user_name/AppData/Local/R/cache/R/rJavaEnv/installed/windows/x64/21/bin/java Java version: \"openjdk version \\\"21.0.4\\\" 2024-07-16 LTS OpenJDK Runtime Environment Corretto-21.0.4.7.1 (build 21.0.4+7-LTS) OpenJDK 64-Bit Server VM Corretto-21.0.4.7.1 (build 21.0.4+7-LTS, mixed mode, sharing)\" [1] TRUE"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"note-linux","dir":"Articles","previous_headings":"","what":"Note for Linux users","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"Linux, rJava package work correctly, ’s enough just set JAVA_HOME PATH variables; libjvm.shared library must also loaded. rJavaEnv package handles automatically current R session also sets project’s .Rprofile file. run java_quick_install() java_env_set(), rJavaEnv also print message necessary command run terminal. command, R CMD javareconf, tells R find Java installation configure system accordingly. administrator (sudo) rights, can configure Java users system. don’t admin rights, can configure just user account adding -e flag.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"return-things-to-their-original-state","dir":"Articles","previous_headings":"","what":"4. Return things to their original state","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"Run following code unset Java current working directory: Example expected output (Windows machine): line clears Java installations project directory: Example expected output: Now restart current R session R picks system Java (Java, installed system).","code":"java_env_unset() Removed JAVA_HOME settings from .Rprofile in 'C:/Users/user_name/AppData/Local/Temp/75/RtmpuoG3xJ/.Rprofile' java_clear_project(delete_all = TRUE) All Java symlinks in the project have been cleared."},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"unset-java","dir":"Articles","previous_headings":"","what":"Unset Java","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"Run following code unset Java current working directory: Example expected output (Windows machine):","code":"java_env_unset() Removed JAVA_HOME settings from .Rprofile in 'C:/Users/user_name/AppData/Local/Temp/75/RtmpuoG3xJ/.Rprofile'"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"delete-java-from-the-project-directory","dir":"Articles","previous_headings":"","what":"Delete Java from the project directory","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"line clears Java installations project directory: Example expected output: Now restart current R session R picks system Java (Java, installed system).","code":"java_clear_project(delete_all = TRUE) All Java symlinks in the project have been cleared."},{"path":"https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html","id":"complete-cleanup","dir":"Articles","previous_headings":"","what":"5. Complete Cleanup","title":"Quick Start Guide: Java Setup for ‘R’ Projects","text":"want use rJavaEnv anymore, please clear cache folders removing package: Also, clear .Rprofile file projects used package: Now can remove package restart current R session R picks system Java (Java, installed system).","code":"java_clear_project(delete_all = TRUE) java_clear_installed(delete_all = TRUE) java_clear_distrib(delete_all = TRUE) java_env_unset()"},{"path":"https://www.ekotov.pro/rJavaEnv/articles/why-rJavaEnv.html","id":"overall-popularity-of-java-dependent-r-packages","dir":"Articles","previous_headings":"","what":"Overall popularity of Java-dependent R packages","title":"Why rJavaEnv: the landscape of ‘Java’-dependent R packages","text":"popular widely known highly popular ggplot2 data.table packages, rJava-dependent packages (104 CRAN another 14 Bioconductor) (consequently, rJava ) widely used R community (see Figure 1). rJava (Urbanek 2024) downloaded 107,725 times September, 2024. total number downloads rJava-dependent packages 178,185 CRAN 3,565 Bioconductor. put context, ggplot2 downloaded 1,329,676 times data.table downloaded 729,796 times September, 2024. rJava-based packages collectively 7.5 times less popular ggplot2, noticeable number users. Figure 1: CRAN Downloads Time rJava rJava-dependent Packages, compared popular ggplot2 data.table context Note analysis covers packages available CRAN Bioconductor explicitly depend rJava package. packages use Java depend rJava package. example, {opentripplanner} package also relies underlying Java-based software calls command line. , however, also requires system environment variables set correctly. Identifying packages opentripplanner complicated, direct dependency rJava package. can assume many compared depend rJava.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/articles/why-rJavaEnv.html","id":"individual-java-dependent-packages","dir":"Articles","previous_headings":"","what":"Individual Java-dependent packages","title":"Why rJavaEnv: the landscape of ‘Java’-dependent R packages","text":"zoom individual rJava-dependent packages, see Figure 2, downloads generated xlsx “companion” xlsxjars. Figure 2: CRAN Downloads Time rJava-dependent Packages remove xlsx (xlsxjars) outlier, see Figure 3), top packages : r5r “rapid realistic routing multimodal transport networks (walk, bike, public transport car)” (Pereira et al. 2021). package users experience multiple issues Java report GitHub, just examples include 1, 2, 3 many . RJDBC “[p]rovides Access Databases JDBC Interface” (Urbanek 2022). able find bug tracker package, simple web search reveals multiple issues one StackOverflow. mailR “send[ing] emails R” (Premraj 2021) (Java related issue GitHub). Web search also reveals StackOverflow discussions related Java version issues. RWeka, R interface Weka. Weka “collection machine learning algorithms data mining tasks written Java” (Hornik, Buchta, Zeileis 2009). StackOverflow discussions related Java version issues. Figure 3: CRAN Downloads Time top 20 rJava-dependent Packages packages: openNLP. “OpenNLP library machine learning based toolkit processing natural language text written Java” (Hornik 2019). also Java related issues discussed StackOverflow. xlsx. “R package interact Excel files using Apache POI [J]ava library” (Dragulescu Arendt 2020). Also many discussions StackOverflow GitHub. summarize, regardless Java-dependent R package used, users consistently encounter issues correct Java runtime installed system. Additionally, may using various R packages depend different Java versions, complicating management Java environment variables. task particularly challenging ordinary users simply want get analysis running smoothly efficiently.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/articles/why-rJavaEnv.html","id":"rjavaenv-r-package-as-a-solution","dir":"Articles","previous_headings":"","what":"rJavaEnv R package as a solution","title":"Why rJavaEnv: the landscape of ‘Java’-dependent R packages","text":"rJavaEnv aims assist users Java/rJava-dependent packages providing functions quickly install required Java version set environment variables. ensures packages user plans use pick correct Java version minimal intervention user’s system. Compared manually downloading Java Oracle, Amazon, another vendor installing using installer, rJavaEnv downloads non-installer archives Java, extracts cache folder, links current project working directory. way, rJavaEnv contaminate user’s machine unnecessary installations configurations. Furthermore, rJavaEnv streamlines process, allowing users focus analysis without worrying complex Java setup issues. automating tasks, rJavaEnv reduces potential errors ensures smoother experience users need manage multiple Java-dependent R packages.","code":""},{"path":[]},{"path":"https://www.ekotov.pro/rJavaEnv/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Egor Kotov. Author, maintainer, copyright holder. Chung-hong Chan. Author. Mauricio Vargas. Contributor. Hadley Wickham. Contributor.           use_java feature suggestion PR review Enrique Mondragon-Estrada. Contributor. Jonas Lieth. Contributor.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kotov E, Chan C (2024). rJavaEnv: Java Environments R Projects. doi:10.32614/CRAN.package.rJavaEnv, https://github.com/e-kotov/rJavaEnv.","code":"@Manual{rjavaenv,   title = {rJavaEnv: Java Environments for R Projects},   author = {Egor Kotov and Chung-hong Chan},   year = {2024},   url = {https://github.com/e-kotov/rJavaEnv},   doi = {10.32614/CRAN.package.rJavaEnv}, }"},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"rjavaenv-java-environments-for-r-projects-","dir":"","previous_headings":"","what":"rJavaEnv: `Java` Environments for R Projects","title":"rJavaEnv: `Java` Environments for R Projects","text":"Quickly install Java Development Kit (JDK) without administrative privileges set environment variables current R session project solve common issues ‘Java’ environment management ‘R’. Recommended users Java/rJava-dependent R packages r5r, opentripplanner, xlsx, {openNLP}, {rWeka}, RJDBC, tabulapdf, many . rJavaEnv prevents common problems like Java found, Java version conflicts, missing Java installations, inability install Java due lack administrative privileges. rJavaEnv automates download, installation, setup Java per-project basis setting relevant JAVA_HOME current R session current working directory (via .Rprofile, user’s consent). Similar renv R packages, rJavaEnv allows different Java versions used across different projects, can also configured allow multiple versions within project (e.g. help targets package). users need install rJava Java-dependent packages source, rJavaEnv display message instructions run R CMD javareconf make Java configuration permanent, also provides function java_build_env_set() sets environment variables current R session temporarily allow installation rJava source without R CMD javareconf. Linux, addition setting environment variables, rJavaEnv also dynamically loads libjvm.ensure rJava works correctly. See documentation details.**","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"install","dir":"","previous_headings":"","what":"Install","title":"rJavaEnv: `Java` Environments for R Projects","text":"Install CRAN: Install latest release development version R-multiverse: can also install development version rJavaEnv directly GitHub:","code":"install.packages('rJavaEnv') install.packages('rJavaEnv',  repos = c('https://community.r-multiverse.org', 'https://cloud.r-project.org') ) if (!requireNamespace(\"remotes\", quietly = TRUE)) {   install.packages(\"remotes\") }  remotes::install_github(\"e-kotov/rJavaEnv\", force = TRUE)"},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"simple-example","dir":"","previous_headings":"","what":"Simple Example","title":"rJavaEnv: `Java` Environments for R Projects","text":": download Java 21 distribution compatible current operating system processor architecture local cache folder; extract downloaded Java distribution another cache folder; create symbolic link (macOS Linux) junction (Windows, fails, just copies files) rjavaenv/platform/processor_architecture/distribution/backend/java_version current directory/project point cached installation; set current session’s JAVA_HOME PATH environment variables point installed (symlinked) Java distribution; add code .Rprofile file current directory/project set JAVA_HOME PATH environment variables project opened RStudio. part normal operation, rJavaEnv update JAVA_HOME PATH environment variables current R session, local cache R package library, .Rprofile file project/current working directory. line CRAN policies, explicit user consent required making changes. Therefore, first time run function rJavaEnv makes changes, asked consent. explicitly consent /prevent interruptions non-interactive mode, can use rje_consent() function: can also specify distribution different default “Corretto”:","code":"rJavaEnv::java_quick_install(version = 21) rje_consent(provided = TRUE) rJavaEnv::java_quick_install(version = 17, distribution = \"Temurin\")"},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"using-rjavaenv-with-targets-and-callr","dir":"","previous_headings":"","what":"Using rJavaEnv with targets and callr","title":"rJavaEnv: `Java` Environments for R Projects","text":"Just insert line top script run targets callr: acts exactly like java_quick_install(), sets environment variables current session copy link Java binaries project directory. details vignette Multiple Java environments one project targets callr.","code":"rJavaEnv::use_java(\"21\")"},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"cleanup","dir":"","previous_headings":"","what":"Cleanup","title":"rJavaEnv: `Java` Environments for R Projects","text":"want use rJavaEnv anymore, please clear cache folders removing package: Also, clear .Rprofile file projects used package:","code":"java_clear_project(delete_all = TRUE) java_clear_installed(delete_all = TRUE) java_clear_distrib(delete_all = TRUE) java_env_unset()"},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"functions-overview","dir":"","previous_headings":"","what":"Functions Overview","title":"rJavaEnv: `Java` Environments for R Projects","text":"package several core functions: java_quick_install() Downloads, installs, sets Java environment current working/project directory, one line code. java_check_version_cmd() Checks installed Java version using terminal commands. packages like opentripplanner, performs Java calls using command line. java_version_check_rjava() Checks installed Java version using rJava separate R session. rJava-dependent packages r5r. java_download() Downloads specified version distribution Java. java_install() Installs Java distribution file current (user-specified) project directory. java_env_set() Sets JAVA_HOME PATH environment variables given path current R session /.Rprofile file project directory. java_env_unset() Removes JAVA_HOME PATH environment variables .Rprofile file project directory (current R session, please restart session R picks system Java). java_list_*() (java_list_project(), java_list_installed(), java_list_distrib()) Lists Java versions linked current project (cached distributions installations). java_clear_*() (java_clear_project(), java_clear_installed(), java_clear_distrib()) Removes Java versions linked current project (cached distributions installations). java_valid_versions() Lists valid major Java versions can downloaded installed either current automatically detected OS CPU architecture user-specified platform architecture. java_list_available() Lists installable Java versions supported backends (native vendor APIs SDKMAN). Supports filtering platform architecture. use_java() java_quick_install(), less intrusive way. copy link Java installation folder cache project directory create edit .Rprofile file. sets requested java current R session. java_build_env_set() (java_build_env_unset()) Similar java_env_set(), specifically designed setting Java environment variables building rJava source. See details functions Reference. detailed usage, see Quick Start Vignette.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"limitations","dir":"","previous_headings":"","what":"Limitations","title":"rJavaEnv: `Java` Environments for R Projects","text":"Currently, rJavaEnv supports major Java versions 8, 11, 15 24 newer version. download install functions ignore minor version Java distribution just downloads latest stable subversion specified major version. done simplify process avoid need update package every time new minor version Java released. users sufficient, substandard full reproducibility. main limitation want switch another Java environment, likely restart current R session set JAVA_HOME PATH environment variables desired Java environment using rJavaEnv::java_env_set(). done dynamically within R session due way Java initialized R, particularly rJava-dependent packages r5r. packages like opentripplanner, performs Java calls using command line, can switch Java environments dynamically within R session much want. Therefore, need use R packages depend different Java versions within project, create separate R scripts Java environment run separate R sessions. One effective way use callr package run R scripts separate R sessions. Another option use targets package manage whole project workflow, , side effect, lead R scripts run separate R sessions. use rJavaEnv targets, need download install several Java environments using rJavaEnv::java_download() rJavaEnv::java_install() set relevant path rJavaEnv::java_env_set() beginning function requires certain Java version.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"future-work","dir":"","previous_headings":"","what":"Future work","title":"rJavaEnv: `Java` Environments for R Projects","text":"future work includes: Add support Java distributions versions Take care R CMD javareconf Possibly add support specifying Java version beyond major version Possibly allow downloading several Java distributions one function call, e.g. different major versions ‘flavour’ different ‘flavours’ major version Possibly add automation get Java required specific Java-dependent R packages open suggestions contributions, welcome issues pull requests.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"rJavaEnv: `Java` Environments for R Projects","text":"thank rOpenSci Dev Guide, well Hadley Wickham Jennifer Bryan R Packages book. Package hex sticker logo partially generated DALL-E OpenAI. logo also contains original R logo.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"rJavaEnv: `Java` Environments for R Projects","text":"cite package ‘rJavaEnv’ publications use: Kotov E, Chan C (2024). rJavaEnv: Java Environments R Projects. doi:10.32614/CRAN.package.rJavaEnv https://doi.org/10.32614/CRAN.package.rJavaEnv, https://github.com/e-kotov/rJavaEnv. BibTeX:","code":"@Manual{rjavaenv,   title = {rJavaEnv: Java Environments for R Projects},   author = {Egor Kotov and Chung-hong Chan},   year = {2024},   url = {https://github.com/e-kotov/rJavaEnv},   doi = {10.32614/CRAN.package.rJavaEnv}, }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/check_rjava_initialized.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if rJava is initialized and warn if so — check_rjava_initialized","title":"Check if rJava is initialized and warn if so — check_rjava_initialized","text":"Checks rJava package currently loaded session. , issues informative alert explaining rJava path-locking prevents new JAVA_HOME settings taking effect rJava .","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/check_rjava_initialized.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if rJava is initialized and warn if so — check_rjava_initialized","text":"","code":"check_rjava_initialized(quiet = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/check_rjava_initialized.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if rJava is initialized and warn if so — check_rjava_initialized","text":"quiet Logical. TRUE, suppresses alert.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/check_rjava_initialized.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if rJava is initialized and warn if so — check_rjava_initialized","text":"Logical. TRUE rJava loaded, FALSE otherwise.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_find_extracted_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Find the actual extracted directory, ignoring hidden/metadata files — ._find_extracted_dir","title":"Find the actual extracted directory, ignoring hidden/metadata files — ._find_extracted_dir","text":"Find actual extracted directory, ignoring hidden/metadata files","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_find_extracted_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find the actual extracted directory, ignoring hidden/metadata files — ._find_extracted_dir","text":"","code":"._find_extracted_dir(temp_dir)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_find_extracted_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find the actual extracted directory, ignoring hidden/metadata files — ._find_extracted_dir","text":"temp_dir directory files extracted.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_find_extracted_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find the actual extracted directory, ignoring hidden/metadata files — ._find_extracted_dir","text":"path first non-hidden directory found.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_java_env_set_impl.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal implementation of java_env_set — ._java_env_set_impl","title":"Internal implementation of java_env_set — ._java_env_set_impl","text":"Internal implementation java_env_set","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_java_env_set_impl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal implementation of java_env_set — ._java_env_set_impl","text":"","code":"._java_env_set_impl(   where = c(\"session\", \"both\", \"project\"),   java_home,   project_path = NULL,   quiet = FALSE,   ._skip_rjava_check = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_java_find_system_scan_impl.html","id":null,"dir":"Reference","previous_headings":"","what":"Scan system for Java installations (cacheable part) — ._java_find_system_scan_impl","title":"Scan system for Java installations (cacheable part) — ._java_find_system_scan_impl","text":"Internal function scans system installed Java Development Kits (JDKs) without calculating is_default flag. function designed cached. Implementation based CMake FindJava.cmake logic, rJava detection, standard OS checks. Note: function returns true system installations. Java installations managed rJavaEnv (stored package cache) explicitly excluded, even JAVA_HOME PATH currently point .","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_java_find_system_scan_impl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scan system for Java installations (cacheable part) — ._java_find_system_scan_impl","text":"","code":"._java_find_system_scan_impl(quiet = TRUE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_java_find_system_scan_impl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scan system for Java installations (cacheable part) — ._java_find_system_scan_impl","text":"quiet Logical. TRUE, suppresses informational messages.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/dot-_java_find_system_scan_impl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scan system for Java installations (cacheable part) — ._java_find_system_scan_impl","text":"data frame columns: java_home: Character. Path Java home directory. version: Character. Major Java version (e.g., \"17\", \"21\"). is_default: Logical. Always FALSE function (set caller). Returns empty data frame Java installations found.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/download_java_with_checksum.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and verify checksum — download_java_with_checksum","title":"Download and verify checksum — download_java_with_checksum","text":"Internal function download Java distribution verify checksum","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/download_java_with_checksum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and verify checksum — download_java_with_checksum","text":"","code":"download_java_with_checksum(build, dest, quiet, force)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/download_java_with_checksum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and verify checksum — download_java_with_checksum","text":"build java_build object containing download metadata dest Destination file path quiet Logical, suppress messages force Logical, overwrite existing files","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/download_java_with_checksum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and verify checksum — download_java_with_checksum","text":"Path downloaded file","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/get_java_archive_extension.html","id":null,"dir":"Reference","previous_headings":"","what":"Get extension for platform — get_java_archive_extension","title":"Get extension for platform — get_java_archive_extension","text":"Get extension platform","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/get_java_archive_extension.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get extension for platform — get_java_archive_extension","text":"","code":"get_java_archive_extension(platform)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/get_libjvm_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Find path to libjvm dynamic library — get_libjvm_path","title":"Find path to libjvm dynamic library — get_libjvm_path","text":"Locates Java Virtual Machine (JVM) dynamic library within given JAVA_HOME. Searches libjvm.Linux libjvm.dylib macOS. Prefers server JVM client JVM multiple versions found.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/get_libjvm_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find path to libjvm dynamic library — get_libjvm_path","text":"","code":"get_libjvm_path(java_home)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/get_libjvm_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find path to libjvm dynamic library — get_libjvm_path","text":"java_home Character. Path Java Home directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/get_libjvm_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find path to libjvm dynamic library — get_libjvm_path","text":"Character path libjvm library, NULL found.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_backend_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Global Backend Parameter — global_backend_param","title":"Global Backend Parameter — global_backend_param","text":"Documentation backend parameter, used specifying download source.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_backend_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global Backend Parameter — global_backend_param","text":"","code":"global_backend_param(backend)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_backend_param.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Global Backend Parameter — global_backend_param","text":"backend Download backend use. One \"native\" (vendor APIs) \"sdkman\". Defaults \"native\". Can also set globally via options(rJavaEnv.backend = \"sdkman\").","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_quiet_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Global Quiet Parameter — global_quiet_param","title":"Global Quiet Parameter — global_quiet_param","text":"Documentation quiet parameter, used globally.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_quiet_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global Quiet Parameter — global_quiet_param","text":"","code":"global_quiet_param(quiet)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_quiet_param.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Global Quiet Parameter — global_quiet_param","text":"quiet logical value indicating whether suppress messages. Can TRUE FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_sdkman_references.html","id":null,"dir":"Reference","previous_headings":"","what":"SDKMAN References — global_sdkman_references","title":"SDKMAN References — global_sdkman_references","text":"Standard references SDKMAN attribution.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_sdkman_references.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SDKMAN References — global_sdkman_references","text":"","code":"global_sdkman_references()"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_sdkman_references.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"SDKMAN References — global_sdkman_references","text":"SDKMAN! - Software Development Kit Manager: https://github.com/sdkman","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_use_cache_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Global Use Cache Parameter — global_use_cache_param","title":"Global Use Cache Parameter — global_use_cache_param","text":"Documentation .use_cache parameter, used performance optimization.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_use_cache_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global Use Cache Parameter — global_use_cache_param","text":"","code":"global_use_cache_param(.use_cache)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_use_cache_param.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Global Use Cache Parameter — global_use_cache_param","text":".use_cache logical value controlling caching behavior. FALSE (default), performs fresh check time (safe, reflects current state). TRUE, uses session-scoped cached results performance loops repeated calls. Caching Behavior: Session-scoped: Cache cleared R restarts Key-based version checks: Changes JAVA_HOME create new cache entries System-wide scanning: Always recalculates current default Java Performance Benefits: First call: ~37-209ms (depending operation) Cached calls: <1ms Prevents 30-100ms delays every call performance-critical code Enable: Package initialization code (.onLoad similar) Loops calling function multiple times Performance-critical paths frequent version checks Keep Default (FALSE): Interactive use (one-checks) need current data reflecting recent Java installations General-purpose function calls time-critical","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_version_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Global Version Parameter — global_version_param","title":"Global Version Parameter — global_version_param","text":"Documentation version parameter, used specifying Java versions.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_version_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global Version Parameter — global_version_param","text":"","code":"global_version_param(version)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/global_version_param.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Global Version Parameter — global_version_param","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\").","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/is_sdkman_identifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if version string is a SDKMAN identifier — is_sdkman_identifier","title":"Check if version string is a SDKMAN identifier — is_sdkman_identifier","text":"Uses two-step detection: Primary: Check ends known vendor suffix Fallback: Regex pattern unknown future vendors","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/is_sdkman_identifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if version string is a SDKMAN identifier — is_sdkman_identifier","text":"","code":"is_sdkman_identifier(version)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/is_sdkman_identifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if version string is a SDKMAN identifier — is_sdkman_identifier","text":"version Version string check","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/is_sdkman_identifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if version string is a SDKMAN identifier — is_sdkman_identifier","text":"Logical","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build.html","id":null,"dir":"Reference","previous_headings":"","what":"Java build metadata object — java_build","title":"Java build metadata object — java_build","text":"Constructor java_build objects contain metadata needed download","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Java build metadata object — java_build","text":"","code":"java_build(   vendor,   version,   major = NULL,   semver = NA_character_,   platform,   arch,   download_url,   filename,   checksum = NULL,   checksum_type = NULL,   backend = \"native\" )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Java build metadata object — java_build","text":"vendor Java vendor name (e.g., \"Corretto\", \"Temurin\", \"Zulu\") major Major Java version number semver Full semantic version string (optional) platform Platform OS (e.g., \"linux\", \"macos\", \"windows\") arch Architecture (e.g., \"x64\", \"aarch64\") download_url URL download Java distribution filename Filename downloaded archive checksum Expected checksum value verification checksum_type Type checksum (e.g., \"md5\", \"sha256\", \"sha512\") backend Backend used resolution (\"native\" \"sdkman\")","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Java build metadata object — java_build","text":"java_build object (S3 list)","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_set.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up the environment for building R packages with Java dependencies from source — java_build_env_set","title":"Set up the environment for building R packages with Java dependencies from source — java_build_env_set","text":"function configures current R session necessary environment variables compile Java-dependent packages like 'rJava' source. Note: function still experimental.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_set.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up the environment for building R packages with Java dependencies from source — java_build_env_set","text":"","code":"java_build_env_set(   java_home = Sys.getenv(\"JAVA_HOME\"),   where = c(\"session\", \"project\", \"both\"),   project_path = NULL,   quiet = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_set.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up the environment for building R packages with Java dependencies from source — java_build_env_set","text":"java_home path desired JAVA_HOME. Defaults value JAVA_HOME environment variable. set build environment: \"session\", \"project\", \"\". Defaults \"session\". \"\" \"project\" selected, function updates .Rprofile file project directory. project_path path project directory, required \"project\" \"\". Defaults current working directory. quiet logical value indicating whether suppress messages. Can TRUE FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_set.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up the environment for building R packages with Java dependencies from source — java_build_env_set","text":"Invisibly returns NULL setting environment variables.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_set.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up the environment for building R packages with Java dependencies from source — java_build_env_set","text":"","code":"# \\donttest{ # Download and install Java 17 java_17_distrib <- java_download(version = \"17\", temp_dir = TRUE) #> Detected platform: linux #> Detected architecture: x64 #> You can change the platform and architecture by specifying the `platform` and #> `arch` arguments. #> Downloading Corretto Java 17... #> Verifying sha256 checksum... #> Checksum verified. java_home_path <- java_install(   java_distrib_path = java_17_distrib,   project_path = tempdir(),   autoset_java_env = FALSE # Manually set env ) #> Java NA (amazon-corretto-17.0.18.9.1-linux-x64.tar.gz) for linux x64 installed #> at /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 and #> symlinked to /tmp/RtmpZMc8LF/rjavaenv/linux/x64/Corretto/native/NA  # Set up the build environment in the current session java_build_env_set(java_home = java_home_path) #> ✔ Build environment variables set for the current R session. #> ℹ The environment is now set up to build Java-dependent packages from source. #>   You can now run: `install.packages(\"rJava\", type = \"source\")` #> ! Please ensure your repository points to a source package repository (e.g., #>   https://cloud.r-project.org). Some repositories may serve pre-built binaries #>   even when `type = \"source\"` is specified. #> Warning: System dependencies required for building rJava from source on Linux. #> ℹ On Debian/Ubuntu, you may need to install: libpcre2-dev, libdeflate-dev, #>   libzstd-dev, liblzma-dev, libbz2-dev, zlib1g-dev, and libicu-dev. #> ℹ Example installation command for Debian/Ubuntu: #>   `sudo apt-get update && sudo apt-get install -y --no-install-recommends #>   libpcre2-dev libdeflate-dev libzstd-dev liblzma-dev libbz2-dev zlib1g-dev #>   libicu-dev && sudo rm -rf /var/lib/apt/lists/*`  # Now, install rJava from source install.packages(\"rJava\", type = \"source\", repos = \"https://cloud.r-project.org\") #> Installing package into ‘/home/runner/work/_temp/Library’ #> (as ‘lib’ is unspecified) # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_set_rprofile.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to write build environment settings to .Rprofile — java_build_env_set_rprofile","title":"Helper function to write build environment settings to .Rprofile — java_build_env_set_rprofile","text":"Helper function write build environment settings .Rprofile","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_set_rprofile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to write build environment settings to .Rprofile — java_build_env_set_rprofile","text":"","code":"java_build_env_set_rprofile(java_home, project_path)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_set_rprofile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function to write build environment settings to .Rprofile — java_build_env_set_rprofile","text":"java_home path desired JAVA_HOME. project_path path project directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_unset.html","id":null,"dir":"Reference","previous_headings":"","what":"Unset the Java build environment variables in the project .Rprofile — java_build_env_unset","title":"Unset the Java build environment variables in the project .Rprofile — java_build_env_unset","text":"Unset Java build environment variables project .Rprofile","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_unset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unset the Java build environment variables in the project .Rprofile — java_build_env_unset","text":"","code":"java_build_env_unset(project_path = NULL, quiet = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_unset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unset the Java build environment variables in the project .Rprofile — java_build_env_unset","text":"project_path character vector length 1 containing project directory Java installed. specified NULL, defaults current working directory. quiet logical value indicating whether suppress messages. Can TRUE FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_unset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unset the Java build environment variables in the project .Rprofile — java_build_env_unset","text":"return value. Invisibly returns NULL.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_build_env_unset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unset the Java build environment variables in the project .Rprofile — java_build_env_unset","text":"","code":"# Remove Java build environment settings from the current project java_build_env_unset() #> ! No .Rprofile found in the project directory: #>   /home/runner/work/rJavaEnv/rJavaEnv/docs/reference"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_compatibility.html","id":null,"dir":"Reference","previous_headings":"","what":"Verify rJava Compatibility (Guard) — java_check_compatibility","title":"Verify rJava Compatibility (Guard) — java_check_compatibility","text":"Checks currently initialized rJava session matches required Java version. Intended use .onLoad function packages depend rJava.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_compatibility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Verify rJava Compatibility (Guard) — java_check_compatibility","text":"","code":"java_check_compatibility(   version,   type = c(\"min\", \"exact\"),   action = c(\"warn\", \"stop\", \"message\", \"none\") )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_compatibility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Verify rJava Compatibility (Guard) — java_check_compatibility","text":"version Integer. required major Java version (e.g., 21). type Character. \"min\" (default) checks >= version. \"exact\" checks == version. action Character. incompatible: \"warn\": Issue warning continue. \"stop\": Throw error (prevent package loading). \"message\": Print startup message. \"none\": Return FALSE invisibly (useful custom handling).","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_compatibility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Verify rJava Compatibility (Guard) — java_check_compatibility","text":"Logical TRUE compatible, FALSE otherwise.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_compatibility.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Verify rJava Compatibility (Guard) — java_check_compatibility","text":"function detects rJava already locked specific Java version (happens upon package loading) warns user version match requirement.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_compatibility.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Verify rJava Compatibility (Guard) — java_check_compatibility","text":"","code":"if (FALSE) { # \\dontrun{ # In a package .onLoad: .onLoad <- function(libname, pkgname) {   rJavaEnv::java_check_compatibility(version = 21, action = \"warn\") } } # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_current_rjava_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the Java version currently used by the loaded rJava package — java_check_current_rjava_version","title":"Check the Java version currently used by the loaded rJava package — java_check_current_rjava_version","text":"Safely queries rJava package (loaded) determine Java version actually using.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_current_rjava_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the Java version currently used by the loaded rJava package — java_check_current_rjava_version","text":"","code":"java_check_current_rjava_version()"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_current_rjava_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the Java version currently used by the loaded rJava package — java_check_current_rjava_version","text":"character string representing major Java version (e.g., \"17\", \"21\", \"8\"), NULL rJava loaded version/property retrieved.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_cmd.html","id":null,"dir":"Reference","previous_headings":"","what":"Check installed Java version using terminal commands — java_check_version_cmd","title":"Check installed Java version using terminal commands — java_check_version_cmd","text":"Check installed Java version using terminal commands","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_cmd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check installed Java version using terminal commands — java_check_version_cmd","text":"","code":"java_check_version_cmd(java_home = NULL, quiet = FALSE, .use_cache = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_cmd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check installed Java version using terminal commands — java_check_version_cmd","text":"java_home Path Java home directory. NULL, function uses JAVA_HOME environment variable. quiet logical value indicating whether suppress messages. Can TRUE FALSE. .use_cache Logical. TRUE, uses cached results repeated calls JAVA_HOME. FALSE (default), forces fresh check. Set TRUE performance loops repeated checks within session.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_cmd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check installed Java version using terminal commands — java_check_version_cmd","text":"character vector length 1 containing major Java version, FALSE JAVA_HOME set Java executable found.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_cmd.html","id":"performance","dir":"Reference","previous_headings":"","what":"Performance","title":"Check installed Java version using terminal commands — java_check_version_cmd","text":"function memoised (cached) within R session using effective JAVA_HOME cache key. First call given JAVA_HOME: ~37ms. Subsequent calls (.use_cache = TRUE): <1ms. switch Java versions via use_java(), JAVA_HOME changes, creating new cache entry. Cache session-scoped.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_cmd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check installed Java version using terminal commands — java_check_version_cmd","text":"","code":"# \\donttest{ java_check_version_cmd() #> JAVA_HOME: #> /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #> Java path: #> /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17/bin/java #> Java version: \"openjdk version \\\"17.0.18\\\" 2026-01-20 LTS OpenJDK Runtime #> Environment Corretto-17.0.18.9.1 (build 17.0.18+9-LTS) OpenJDK 64-Bit Server VM #> Corretto-17.0.18.9.1 (build 17.0.18+9-LTS, mixed mode, sharing)\" #> [1] \"17\" # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_rjava.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Java Version with a Specified JAVA_HOME Using a Separate R Session — java_check_version_rjava","title":"Check Java Version with a Specified JAVA_HOME Using a Separate R Session — java_check_version_rjava","text":"function sets JAVA_HOME environment variable, initializes JVM using rJava, prints Java version used user sets given JAVA_HOME current R session. check performed separate R session avoid reload current R session. reason Java initialized R session, uninitialized unless current R session restarted.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_rjava.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Java Version with a Specified JAVA_HOME Using a Separate R Session — java_check_version_rjava","text":"","code":"java_check_version_rjava(java_home = NULL, quiet = FALSE, .use_cache = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_rjava.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Java Version with a Specified JAVA_HOME Using a Separate R Session — java_check_version_rjava","text":"java_home Path Java home directory. NULL, function uses JAVA_HOME environment variable. quiet logical value indicating whether suppress messages. Can TRUE FALSE. .use_cache Logical. TRUE, uses cached results repeated calls JAVA_HOME. FALSE (default), forces fresh check. Set TRUE performance loops repeated checks within session.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_rjava.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Java Version with a Specified JAVA_HOME Using a Separate R Session — java_check_version_rjava","text":"character vector length 1 containing major Java version, FALSE rJava installed version check fails.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_check_version_rjava.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Java Version with a Specified JAVA_HOME Using a Separate R Session — java_check_version_rjava","text":"","code":"# \\donttest{ java_check_version_rjava() #> ✖ Failed to retrieve Java version. #> [1] FALSE # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear.html","id":null,"dir":"Reference","previous_headings":"","what":"Manage Java installations and distributions caches — java_clear","title":"Manage Java installations and distributions caches — java_clear","text":"Wrapper function clear Java symlinked current project, installed, distributions caches.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Manage Java installations and distributions caches — java_clear","text":"","code":"java_clear(   type = c(\"project\", \"installed\", \"distrib\"),   target_dir = NULL,   check = TRUE,   delete_all = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Manage Java installations and distributions caches — java_clear","text":"type clear: \"project\" - remove symlinks install cache current project, \"installed\" - remove installed Java versions, \"distrib\" - remove downloaded Java distributions. target_dir directory clear. Defaults current working directory \"project\" user-specific data directory \"installed\" \"distrib\". recommended change. check Whether list contents cache directory clearing . Defaults TRUE. delete_all Whether delete items without prompting. Defaults FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Manage Java installations and distributions caches — java_clear","text":"message indicating whether cache cleared .","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Manage Java installations and distributions caches — java_clear","text":"","code":"if (interactive()) {   java_clear(\"project\")   java_clear(\"installed\")   java_clear(\"distrib\") }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_distrib.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the Java distributions cache folder — java_clear_distrib","title":"Clear the Java distributions cache folder — java_clear_distrib","text":"Clear Java distributions cache folder","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_distrib.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the Java distributions cache folder — java_clear_distrib","text":"","code":"java_clear_distrib(   cache_path = getOption(\"rJavaEnv.cache_path\"),   check = TRUE,   delete_all = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_distrib.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the Java distributions cache folder — java_clear_distrib","text":"cache_path destination directory download Java distribution . Defaults user-specific data directory. check Whether list contents cache directory clearing . Defaults TRUE. delete_all Whether delete items without prompting. Defaults FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_distrib.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the Java distributions cache folder — java_clear_distrib","text":"message indicating whether cache cleared .","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_distrib.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the Java distributions cache folder — java_clear_distrib","text":"","code":"if (interactive()) {   java_clear_distrib() }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_installed.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the Java installations cache folder — java_clear_installed","title":"Clear the Java installations cache folder — java_clear_installed","text":"Clear Java installations cache folder","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_installed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the Java installations cache folder — java_clear_installed","text":"","code":"java_clear_installed(   check = TRUE,   delete_all = FALSE,   cache_path = getOption(\"rJavaEnv.cache_path\") )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_installed.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the Java installations cache folder — java_clear_installed","text":"check Whether list contents cache directory clearing . Defaults TRUE. delete_all Whether delete items without prompting. Defaults FALSE. cache_path destination directory download Java distribution . Defaults user-specific data directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_installed.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the Java installations cache folder — java_clear_installed","text":"message indicating whether cache cleared .","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_installed.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the Java installations cache folder — java_clear_installed","text":"","code":"if (interactive()) {   java_clear_installed() }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the Java versions symlinked in the current project — java_clear_project","title":"Clear the Java versions symlinked in the current project — java_clear_project","text":"Clear Java versions symlinked current project","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the Java versions symlinked in the current project — java_clear_project","text":"","code":"java_clear_project(project_path = NULL, check = TRUE, delete_all = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the Java versions symlinked in the current project — java_clear_project","text":"project_path project directory clear. Defaults current working directory. check Whether list contents cache directory clearing . Defaults TRUE. delete_all Whether delete items without prompting. Defaults FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the Java versions symlinked in the current project — java_clear_project","text":"message indicating whether symlinks cleared .","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_clear_project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the Java versions symlinked in the current project — java_clear_project","text":"","code":"if (interactive()) {   java_clear_project() }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Access Java configuration from YAML — java_config","title":"Access Java configuration from YAML — java_config","text":"Helper function access configuration loaded java_config.yaml","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access Java configuration from YAML — java_config","text":"","code":"java_config(key = NULL)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access Java configuration from YAML — java_config","text":"key Optional key retrieve specific config section. NULL, returns entire config.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access Java configuration from YAML — java_config","text":"Configuration value NULL found","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_download.html","id":null,"dir":"Reference","previous_headings":"","what":"Download a Java distribution — java_download","title":"Download a Java distribution — java_download","text":"Download Java distribution","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_download.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download a Java distribution — java_download","text":"","code":"java_download(   version = 21,   distribution = \"Corretto\",   backend = getOption(\"rJavaEnv.backend\", \"native\"),   cache_path = getOption(\"rJavaEnv.cache_path\"),   platform = platform_detect()$os,   arch = platform_detect()$arch,   quiet = FALSE,   force = FALSE,   temp_dir = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_download.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download a Java distribution — java_download","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\"). distribution Java distribution download. One \"Corretto\", \"Temurin\", \"Zulu\". Defaults \"Corretto\". Ignored version SDKMAN identifier. backend Download backend use. One \"native\" (vendor APIs) \"sdkman\". Defaults \"native\". Can also set globally via options(rJavaEnv.backend = \"sdkman\"). cache_path destination directory download Java distribution . Defaults user-specific data directory. platform platform download Java distribution. Defaults current platform. arch architecture download Java distribution. Defaults current architecture. quiet logical value indicating whether suppress messages. Can TRUE FALSE. force logical. Whether distribution file overwritten . Defaults FALSE. temp_dir logical. Whether file saved temporary directory. Defaults FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_download.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download a Java distribution — java_download","text":"path downloaded Java distribution file.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_download.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download a Java distribution — java_download","text":"","code":"# \\donttest{  # download distribution of Java version 17 java_download(version = \"17\", temp_dir = TRUE) #> Detected platform: linux #> Detected architecture: x64 #> You can change the platform and architecture by specifying the `platform` and #> `arch` arguments. #> File already cached: amazon-corretto-17.0.18.9.1-linux-x64.tar.gz #> [1] \"/tmp/RtmpZMc8LF/rJavaEnv_cache/distrib/amazon-corretto-17.0.18.9.1-linux-x64.tar.gz\" #> attr(,\"distribution\") #> [1] \"Corretto\" #> attr(,\"backend\") #> [1] \"native\" #> attr(,\"version\") #> [1] \"17\" #> attr(,\"platform\") #> [1] \"linux\" #> attr(,\"arch\") #> [1] \"x64\"  # download default Java distribution (version 21) java_download(temp_dir = TRUE) #> Detected platform: linux #> Detected architecture: x64 #> You can change the platform and architecture by specifying the `platform` and #> `arch` arguments. #> Downloading Corretto Java 21... #> Verifying sha256 checksum... #> Checksum verified. #> [1] \"/tmp/RtmpZMc8LF/rJavaEnv_cache/distrib/amazon-corretto-21.0.10.7.1-linux-x64.tar.gz\" #> attr(,\"distribution\") #> [1] \"Corretto\" #> attr(,\"backend\") #> [1] \"native\" #> attr(,\"version\") #> [1] \"21\" #> attr(,\"platform\") #> [1] \"linux\" #> attr(,\"arch\") #> [1] \"x64\"  # download using SDKMAN backend java_download(version = \"21\", backend = \"sdkman\", temp_dir = TRUE) #> Detected platform: linux #> Detected architecture: x64 #> You can change the platform and architecture by specifying the `platform` and #> `arch` arguments. #> ! SDKMAN backend: checksum verification unavailable #> Downloading Corretto Java 21... #> ! Skipping checksum (unavailable for SDKMAN) #> [1] \"/tmp/RtmpZMc8LF/rJavaEnv_cache/distrib/corretto-21-linux-x64.tar.gz\" #> attr(,\"distribution\") #> [1] \"Corretto\" #> attr(,\"backend\") #> [1] \"sdkman\" #> attr(,\"version\") #> [1] \"21\" #> attr(,\"platform\") #> [1] \"linux\" #> attr(,\"arch\") #> [1] \"x64\" # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_ensure.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure specific Java version is set — java_ensure","title":"Ensure specific Java version is set — java_ensure","text":"Checks specific Java version following order: Checks currently active session required version. (Optional) Scans system installed Java (via java_find_system). Checks required version already cached rJavaEnv's installed cache. none found, downloads installs version (install = TRUE). function designed \"lazy\": nothing valid Java version already detected, making safe use scripts package startup code (provided install = FALSE).","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_ensure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure specific Java version is set — java_ensure","text":"","code":"java_ensure(   version = NULL,   type = c(\"exact\", \"min\"),   accept_system_java = TRUE,   install = TRUE,   distribution = \"Corretto\",   backend = getOption(\"rJavaEnv.backend\", \"native\"),   check_against = c(\"rJava\", \"cmd\"),   quiet = FALSE,   cache_path = getOption(\"rJavaEnv.cache_path\"),   platform = platform_detect()$os,   arch = platform_detect()$arch,   .use_cache = FALSE,   .check_rjava_fun = check_rjava_initialized,   .rjava_ver_fun = java_check_current_rjava_version )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_ensure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ensure specific Java version is set — java_ensure","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\"). type Character. \"exact\" (default) checks exact version match. \"min\" checks version >= version. accept_system_java Logical. TRUE (default), function scan system existing Java installations (using JAVA_HOME, PATH, OS-specific locations). system Java matching version type requirements found, used. Set FALSE ignore system installations strictly use rJavaEnv managed version. install Logical. TRUE (default), attempts download/install missing. FALSE, returns FALSE version found. distribution Character. Java distribution download. Defaults \"Corretto\". Ignored version SDKMAN identifier. backend Download backend use. One \"native\" (vendor APIs) \"sdkman\". Defaults \"native\". Can also set globally via options(rJavaEnv.backend = \"sdkman\"). check_against Character. Controls context validity function checks . \"rJava\" (default): Checks requested version can enforced rJava. rJava already initialized locked different version, error, requested version enforced active rJava session. \"cmd\": Checks requested version can enforced command-line use. ignores state rJava allows setting environment variables even rJava locked different version. quiet logical value indicating whether suppress messages. Can TRUE FALSE. cache_path destination directory download Java distribution . Defaults user-specific data directory. platform platform download Java distribution. Defaults current platform. arch architecture download Java distribution. Defaults current architecture. .use_cache logical value controlling caching behavior. FALSE (default), performs fresh check time (safe, reflects current state). TRUE, uses session-scoped cached results performance loops repeated calls. Caching Behavior: Session-scoped: Cache cleared R restarts Key-based version checks: Changes JAVA_HOME create new cache entries System-wide scanning: Always recalculates current default Java Performance Benefits: First call: ~37-209ms (depending operation) Cached calls: <1ms Prevents 30-100ms delays every call performance-critical code Enable: Package initialization code (.onLoad similar) Loops calling function multiple times Performance-critical paths frequent version checks Keep Default (FALSE): Interactive use (one-checks) need current data reflecting recent Java installations General-purpose function calls time-critical .check_rjava_fun Internal. Function check rJava initialized. .rjava_ver_fun Internal. Function get current rJava version.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_ensure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ensure specific Java version is set — java_ensure","text":"Logical. TRUE requirement met (active set successfully), FALSE otherwise.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_ensure.html","id":"additional-notes","dir":"Reference","previous_headings":"","what":"Additional Notes","title":"Ensure specific Java version is set — java_ensure","text":"rJava already loaded, function warn prevent environment variable change (help rJava point).","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_ensure.html","id":"rjava-path-locking","dir":"Reference","previous_headings":"","what":"rJava Path-Locking","title":"Ensure specific Java version is set — java_ensure","text":"Important rJava Users: function sets environment variables (JAVA_HOME, PATH) affect command-line Java tools rJava initialization. However, due rJava's path-locking behavior .jinit called (see https://github.com/s-u/rJava/issues/25, https://github.com/s-u/rJava/issues/249, https://github.com/s-u/rJava/issues/334), function must called .jinit invoked. .jinit initializes, Java version locked R session changed without restarting R. .jinit invoked (Java locked) : Explicitly call library(rJava) Load package imports rJava (auto-loads dependency) Even just use IDE autocomplete rJava:: (triggers initialization!) Call rJava-dependent function happen, Java version used rJava session locked . command-line Java tools use rJava, function can called time switch Java versions subsequent system calls.","code":""},{"path":[]},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_ensure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ensure specific Java version is set — java_ensure","text":"","code":"# \\donttest{ # For end users: Ensure Java 21 is ready BEFORE loading rJava packages library(rJavaEnv) java_ensure(version = 21, type = \"min\") #> ℹ Checking system for existing Java installations... #> ✔ Found valid system Java 25 at /usr/lib/jvm/temurin-25-jdk-amd64 #> ✔ Current R Session: JAVA_HOME and PATH set to /usr/lib/jvm/temurin-25-jdk-amd64 #> ℹ On Linux, for rJava to work correctly, `libjvm.so` was dynamically loaded in #>   the current session. #>   To make this change permanent for installing rJava-dependent packages from #>   source, you may need to reconfigure Java. #>   See <https://solutions.posit.co/envs-pkgs/using-rjava/#reconfigure-r> for #>   details. #>   If you have admin rights, run the following in your terminal: #>   `R CMD javareconf JAVA_HOME=/usr/lib/jvm/temurin-25-jdk-amd64` #>   If you do not have admin rights, run: #>   `R CMD javareconf JAVA_HOME=/usr/lib/jvm/temurin-25-jdk-amd64 -e` # Now safe to load packages that depend on rJava # library(myRJavaPackage)  # For packages using command-line Java (not rJava): # Can use java_ensure() within functions to set Java before calling system tools my_java_tool <- function() {   java_ensure(version = 17)   system2(\"java\", c(\"-jar\", \"tool.jar\")) } # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the JAVA_HOME and PATH environment variables to a given path — java_env_set","title":"Set the JAVA_HOME and PATH environment variables to a given path — java_env_set","text":"Sets JAVA_HOME PATH environment variables command-line Java tools rJava initialization. See details important information rJava timing.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the JAVA_HOME and PATH environment variables to a given path — java_env_set","text":"","code":"java_env_set(   where = c(\"session\", \"both\", \"project\"),   java_home,   project_path = NULL,   quiet = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the JAVA_HOME and PATH environment variables to a given path — java_env_set","text":"set JAVA_HOME: \"session\", \"project\", \"\". Defaults \"session\" updates paths current R session. \"\" \"project\" selected, function updates .Rprofile file project directory set JAVA_HOME PATH environment variables start R session. java_home path desired JAVA_HOME. project_path character vector length 1 containing project directory Java installed. specified NULL, defaults current working directory. quiet logical value indicating whether suppress messages. Can TRUE FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set the JAVA_HOME and PATH environment variables to a given path — java_env_set","text":"Nothing. Sets JAVA_HOME PATH environment variables.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set.html","id":"additional-details","dir":"Reference","previous_headings":"","what":"Additional Details","title":"Set the JAVA_HOME and PATH environment variables to a given path — java_env_set","text":"use different Java version rJava-dependent packages, must: Set JAVA_HOME using function loading rJava package imports Restart R session already loaded rJava wrong Java version","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set.html","id":"rjava-path-locking","dir":"Reference","previous_headings":"","what":"rJava Path-Locking","title":"Set the JAVA_HOME and PATH environment variables to a given path — java_env_set","text":"Important rJava Users: function sets environment variables (JAVA_HOME, PATH) affect command-line Java tools rJava initialization. However, due rJava's path-locking behavior .jinit called (see https://github.com/s-u/rJava/issues/25, https://github.com/s-u/rJava/issues/249, https://github.com/s-u/rJava/issues/334), function must called .jinit invoked. .jinit initializes, Java version locked R session changed without restarting R. .jinit invoked (Java locked) : Explicitly call library(rJava) Load package imports rJava (auto-loads dependency) Even just use IDE autocomplete rJava:: (triggers initialization!) Call rJava-dependent function happen, Java version used rJava session locked . command-line Java tools use rJava, function can called time switch Java versions subsequent system calls.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set the JAVA_HOME and PATH environment variables to a given path — java_env_set","text":"","code":"# \\donttest{ # download, install Java 17 java_17_distrib <- java_download(version = \"17\", temp_dir = TRUE) #> Detected platform: linux #> Detected architecture: x64 #> You can change the platform and architecture by specifying the `platform` and #> `arch` arguments. #> File already cached: amazon-corretto-17.0.18.9.1-linux-x64.tar.gz java_home <- java_install(   java_distrib_path = java_17_distrib,   project_path = tempdir(),   autoset_java_env = FALSE ) #> Java distribution amazon-corretto-17.0.18.9.1-linux-x64.tar.gz already unpacked #> at /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #> Java NA (amazon-corretto-17.0.18.9.1-linux-x64.tar.gz) for linux x64 installed #> at /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 and #> symlinked to /tmp/RtmpZMc8LF/rjavaenv/linux/x64/Corretto/native/NA  # now manually set the JAVA_HOME and PATH environment variables in current session java_env_set(   where = \"session\",   java_home = java_home ) #> ℹ You have rJava loaded in the current session. rJava gets locked to the Java version that was active when it was first initialized.rJava is initialized when you: (1) call `library(rJava)`, (2) load a package that imports rJava, (3) use IDE autocomplete with `rJava::`, or (4) call any rJava function.This path-locking is a limitation of rJava itself. See: https://github.com/s-u/rJava/issues/25, https://github.com/s-u/rJava/issues/249, and https://github.com/s-u/rJava/issues/334Unless you restart the R session or run your code in a new R subprocess (using targets or callr), the new `JAVA_HOME` and `PATH` will not take effect. #> ✔ Current R Session: JAVA_HOME and PATH set to /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #> ℹ On Linux, for rJava to work correctly, `libjvm.so` was dynamically loaded in #>   the current session. #>   To make this change permanent for installing rJava-dependent packages from #>   source, you may need to reconfigure Java. #>   See <https://solutions.posit.co/envs-pkgs/using-rjava/#reconfigure-r> for #>   details. #>   If you have admin rights, run the following in your terminal: #>   `R CMD javareconf #>   JAVA_HOME=/home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17` #>   If you do not have admin rights, run: #>   `R CMD javareconf #>   JAVA_HOME=/home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #>   -e`  # or set JAVA_HOME and PATH in the spefific projects' .Rprofile java_env_set(   where = \"project\",   java_home = java_home,   project_path = tempdir() ) #> ✔ Current R Project/Working Directory: JAVA_HOME and PATH set to '/home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17' in .Rprofile at '/tmp/RtmpZMc8LF' #> ℹ On Linux, for rJava to work correctly, `libjvm.so` was dynamically loaded in #>   the current session. #>   To make this change permanent for installing rJava-dependent packages from #>   source, you may need to reconfigure Java. #>   See <https://solutions.posit.co/envs-pkgs/using-rjava/#reconfigure-r> for #>   details. #>   If you have admin rights, run the following in your terminal: #>   `R CMD javareconf #>   JAVA_HOME=/home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17` #>   If you do not have admin rights, run: #>   `R CMD javareconf #>   JAVA_HOME=/home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #>   -e`  # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set_rprofile.html","id":null,"dir":"Reference","previous_headings":"","what":"Update the .Rprofile file in the project directory — java_env_set_rprofile","title":"Update the .Rprofile file in the project directory — java_env_set_rprofile","text":"Update .Rprofile file project directory","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set_rprofile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update the .Rprofile file in the project directory — java_env_set_rprofile","text":"","code":"java_env_set_rprofile(java_home, project_path = NULL)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set_rprofile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update the .Rprofile file in the project directory — java_env_set_rprofile","text":"java_home path desired JAVA_HOME. project_path character vector length 1 containing project directory Java installed. specified NULL, defaults current working directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the JAVA_HOME and PATH environment variables for the current session — java_env_set_session","title":"Set the JAVA_HOME and PATH environment variables for the current session — java_env_set_session","text":"Set JAVA_HOME PATH environment variables current session","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the JAVA_HOME and PATH environment variables for the current session — java_env_set_session","text":"","code":"java_env_set_session(java_home, quiet = FALSE, ._skip_rjava_check = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_set_session.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the JAVA_HOME and PATH environment variables for the current session — java_env_set_session","text":"java_home path desired JAVA_HOME. quiet logical value indicating whether suppress messages. Can TRUE FALSE. ._skip_rjava_check Internal. TRUE, skip rJava initialization check.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_unset.html","id":null,"dir":"Reference","previous_headings":"","what":"Unset the JAVA_HOME and PATH environment variables in the project .Rprofile — java_env_unset","title":"Unset the JAVA_HOME and PATH environment variables in the project .Rprofile — java_env_unset","text":"Unset JAVA_HOME PATH environment variables project .Rprofile","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_unset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unset the JAVA_HOME and PATH environment variables in the project .Rprofile — java_env_unset","text":"","code":"java_env_unset(project_path = NULL, quiet = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_unset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unset the JAVA_HOME and PATH environment variables in the project .Rprofile — java_env_unset","text":"project_path character vector length 1 containing project directory Java installed. specified NULL, defaults current working directory. quiet logical value indicating whether suppress messages. Can TRUE FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_unset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unset the JAVA_HOME and PATH environment variables in the project .Rprofile — java_env_unset","text":"Nothing. Removes JAVA_HOME PATH environment variables settings project .Rprofile.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_env_unset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unset the JAVA_HOME and PATH environment variables in the project .Rprofile — java_env_unset","text":"","code":"# clear the JAVA_HOME and PATH environment variables in the specified project .Rprofile java_env_unset(project_path = tempdir()) #> Removed JAVA_HOME settings from .Rprofile in '/tmp/RtmpZMc8LF/.Rprofile'"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_find_system.html","id":null,"dir":"Reference","previous_headings":"","what":"Discover system-wide Java installations — java_find_system","title":"Discover system-wide Java installations — java_find_system","text":"Scans system installed Java Development Kits (JDKs). Implementation based CMake FindJava.cmake logic, rJava detection, standard OS checks. Note: function returns true system installations. Java installations managed rJavaEnv (stored package cache) explicitly excluded, even JAVA_HOME PATH currently point .","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_find_system.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Discover system-wide Java installations — java_find_system","text":"","code":"java_find_system(quiet = TRUE, .use_cache = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_find_system.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Discover system-wide Java installations — java_find_system","text":"quiet Logical. TRUE, suppresses informational messages. .use_cache Logical. TRUE, uses memoisation cache expensive system scanning part. is_default flag always calculated dynamically based current JAVA_HOME. Default: FALSE (bypass cache safety). Set TRUE performance loops repeated calls.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_find_system.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Discover system-wide Java installations — java_find_system","text":"data frame columns: java_home: Character. Path Java home directory. version: Character. Major Java version (e.g., \"17\", \"21\"). is_default: Logical. TRUE matches current system default Java (determined JAVA_HOME PATH). Rows ordered default Java first (detected), version descending. Returns empty data frame Java installations found.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_find_system.html","id":"performance","dir":"Reference","previous_headings":"","what":"Performance","title":"Discover system-wide Java installations — java_find_system","text":"system scan memoised (cached) session duration. First scan: ~209ms. Subsequent scans .use_cache = TRUE: <1ms. is_default flag always calculated fresh reflect current JAVA_HOME.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_find_system.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Discover system-wide Java installations — java_find_system","text":"","code":"# \\donttest{ # List all system Java installations java_find_system() #>                            java_home version is_default #> 1   /usr/lib/jvm/temurin-8-jdk-amd64       8      FALSE #> 2  /usr/lib/jvm/temurin-11-jdk-amd64      11      FALSE #> 3  /usr/lib/jvm/temurin-17-jdk-amd64      17      FALSE #> 4 /usr/lib/jvm/java-21-openjdk-amd64      21      FALSE #> 5  /usr/lib/jvm/temurin-21-jdk-amd64      21      FALSE #> 6  /usr/lib/jvm/temurin-25-jdk-amd64      25      FALSE  # Use cache for faster repeated calls if you are using it in your R package java_find_system(.use_cache = TRUE) #>                            java_home version is_default #> 1   /usr/lib/jvm/temurin-8-jdk-amd64       8      FALSE #> 2  /usr/lib/jvm/temurin-11-jdk-amd64      11      FALSE #> 3  /usr/lib/jvm/temurin-17-jdk-amd64      17      FALSE #> 4 /usr/lib/jvm/java-21-openjdk-amd64      21      FALSE #> 5  /usr/lib/jvm/temurin-21-jdk-amd64      21      FALSE #> 6  /usr/lib/jvm/temurin-25-jdk-amd64      25      FALSE # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_get_home.html","id":null,"dir":"Reference","previous_headings":"","what":"Get JAVA_HOME — java_get_home","title":"Get JAVA_HOME — java_get_home","text":"Get current JAVA_HOME environment variable.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_get_home.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get JAVA_HOME — java_get_home","text":"","code":"java_get_home()"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_get_home.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get JAVA_HOME — java_get_home","text":"value JAVA_HOME environment variable.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_get_home.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get JAVA_HOME — java_get_home","text":"","code":"java_get_home() #> [1] \"/home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17\""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_install.html","id":null,"dir":"Reference","previous_headings":"","what":"Install Java from a distribution file — java_install","title":"Install Java from a distribution file — java_install","text":"Unpack Java distribution file cache directory link installation project directory, optionally setting JAVA_HOME PATH environment variables Java version just installed.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_install.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install Java from a distribution file — java_install","text":"","code":"java_install(   java_distrib_path,   project_path = NULL,   distribution = NULL,   backend = NULL,   autoset_java_env = TRUE,   quiet = FALSE,   force = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_install.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install Java from a distribution file — java_install","text":"java_distrib_path character vector length 1 containing path Java distribution file. project_path character vector length 1 containing project directory Java installed. specified NULL, defaults current working directory. distribution Java distribution name (e.g., \"Corretto\", \"Temurin\"). NULL, uses attributes java_distrib_path defaults \"unknown\". backend download backend used (e.g., \"native\", \"sdkman\"). NULL, uses attributes java_distrib_path defaults \"unknown\". autoset_java_env logical indicating whether set JAVA_HOME PATH environment variables installed Java directory. Defaults TRUE. quiet logical value indicating whether suppress messages. Can TRUE FALSE. force logical. Whether overwrite existing installation. Defaults FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_install.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install Java from a distribution file — java_install","text":"path installed Java directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_install.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install Java from a distribution file — java_install","text":"","code":"if (FALSE) { # \\dontrun{  # set cache dir to temporary directory options(rJavaEnv.cache_path = tempdir()) # download, install and autoset environmnet variables for Java 17 java_17_distrib <- java_download(version = \"17\") java_install(java_distrib_path = java_17_distrib, project_path = tempdir()) } # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list.html","id":null,"dir":"Reference","previous_headings":"","what":"List the contents of the Java versions installed or cached — java_list","title":"List the contents of the Java versions installed or cached — java_list","text":"function lists one following: project - list contents Java symlinked/copied current project directory specified target_dir distrib - list contents downloaded Java distributions cache default location specified target_dir installed - list contents Java installations cache (unpacked distributions) default location specified target_dir","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List the contents of the Java versions installed or cached — java_list","text":"","code":"java_list(   type = c(\"project\", \"installed\", \"distrib\"),   output = c(\"data.frame\", \"vector\"),   quiet = TRUE,   target_dir = NULL )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List the contents of the Java versions installed or cached — java_list","text":"type type cache list: \"distrib\", \"installed\", \"project\". Defaults \"project\". output format output: data.frame`` vector“. Defaults data.frame. quiet logical value indicating whether suppress messages. Can TRUE FALSE. target_dir cache directory list. Defaults user-specific data directory \"distrib\" \"installed\", current working directory \"project\".","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List the contents of the Java versions installed or cached — java_list","text":"dataframe character vector contents specified cache project directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List the contents of the Java versions installed or cached — java_list","text":"","code":"java_list(\"project\") #> ✖ No Java has been installed in the project. java_list(\"installed\") #>                                                                    path #> 1 /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #>   platform arch distribution backend version #> 1    linux  x64     Corretto  native      17 java_list(\"distrib\") #> ✖ No Java distributions have been downloaded. #> character(0)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_available.html","id":null,"dir":"Reference","previous_headings":"","what":"List Available Java Versions — java_list_available","title":"List Available Java Versions — java_list_available","text":"function retrieves list available installable Java versions specified backend(s). returns unified data frame version details, vendors, checksum availability.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_available.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Available Java Versions — java_list_available","text":"","code":"java_list_available(   backend = c(\"both\", \"native\", \"sdkman\"),   platform = platform_detect()$os,   arch = platform_detect()$arch,   force = FALSE,   quiet = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_available.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List Available Java Versions — java_list_available","text":"backend Character vector. Backends query: \"native\", \"sdkman\", \"\" (default). platform Platform OS. Defaults current platform. Use \"\" list supported platforms. arch Architecture. Defaults current architecture. Use \"\" list supported architectures. force Logical. TRUE, bypasses refreshes internal cache. quiet Logical. TRUE, suppresses progress messages.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_available.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Available Java Versions — java_list_available","text":"data.frame columns: backend: \"native\" \"sdkman\" vendor: Java distribution name major: Major version number version: Full version string platform: Platform OS arch: Architecture identifier: Internal identifier (mainly SDKMAN) checksum_available: Whether checksum verification available","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_available.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Available Java Versions — java_list_available","text":"","code":"if (FALSE) { # \\dontrun{ # List all available versions for current platform java_list_available()  # List all versions for all platforms (Pro users) java_list_available(platform = \"all\", arch = \"all\") } # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_distrib.html","id":null,"dir":"Reference","previous_headings":"","what":"List the contents of the Java distributions cache folder — java_list_distrib","title":"List the contents of the Java distributions cache folder — java_list_distrib","text":"List contents Java distributions cache folder","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_distrib.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List the contents of the Java distributions cache folder — java_list_distrib","text":"","code":"java_list_distrib(   cache_path = getOption(\"rJavaEnv.cache_path\"),   output = c(\"data.frame\", \"vector\"),   quiet = TRUE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_distrib.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List the contents of the Java distributions cache folder — java_list_distrib","text":"cache_path destination directory download Java distribution . Defaults user-specific data directory. output format output: data.frame`` vector“. Defaults data.frame. quiet logical value indicating whether suppress messages. Can TRUE FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_distrib.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List the contents of the Java distributions cache folder — java_list_distrib","text":"data frame character vector contents cache directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_distrib.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List the contents of the Java distributions cache folder — java_list_distrib","text":"","code":"# \\donttest{   java_list_distrib() #> ✖ No Java distributions have been downloaded. #> character(0) # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_installed.html","id":null,"dir":"Reference","previous_headings":"","what":"List the contents of the Java installations cache folder — java_list_installed","title":"List the contents of the Java installations cache folder — java_list_installed","text":"List contents Java installations cache folder","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_installed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List the contents of the Java installations cache folder — java_list_installed","text":"","code":"java_list_installed(   output = c(\"data.frame\", \"vector\"),   quiet = TRUE,   cache_path = getOption(\"rJavaEnv.cache_path\") )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_installed.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List the contents of the Java installations cache folder — java_list_installed","text":"output format output: data.frame`` vector“. Defaults data.frame. quiet logical value indicating whether suppress messages. Can TRUE FALSE. cache_path destination directory download Java distribution . Defaults user-specific data directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_installed.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List the contents of the Java installations cache folder — java_list_installed","text":"data frame character vector contents cache directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_installed.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List the contents of the Java installations cache folder — java_list_installed","text":"","code":"# List the contents java_list_installed() #>                                                                    path #> 1 /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #>   platform arch distribution backend version #> 1    linux  x64     Corretto  native      17"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_project.html","id":null,"dir":"Reference","previous_headings":"","what":"List the Java versions symlinked in the current project — java_list_project","title":"List the Java versions symlinked in the current project — java_list_project","text":"List Java versions symlinked current project","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List the Java versions symlinked in the current project — java_list_project","text":"","code":"java_list_project(   project_path = NULL,   output = c(\"data.frame\", \"vector\"),   quiet = TRUE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List the Java versions symlinked in the current project — java_list_project","text":"project_path project directory list. Defaults current working directory. output format output: data.frame`` vector“. Defaults data.frame. quiet logical value indicating whether suppress messages. Can TRUE FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List the Java versions symlinked in the current project — java_list_project","text":"data frame character vector symlinked Java versions project directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_list_project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List the Java versions symlinked in the current project — java_list_project","text":"","code":"# \\donttest{ java_list_project() #> ✖ No Java has been installed in the project. # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_quick_install.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and install and set Java in current working/project directory — java_quick_install","title":"Download and install and set Java in current working/project directory — java_quick_install","text":"Download install set Java current working/project directory","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_quick_install.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and install and set Java in current working/project directory — java_quick_install","text":"","code":"java_quick_install(   version = 21,   distribution = \"Corretto\",   backend = getOption(\"rJavaEnv.backend\", \"native\"),   project_path = NULL,   platform = platform_detect()$os,   arch = platform_detect()$arch,   quiet = FALSE,   temp_dir = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_quick_install.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and install and set Java in current working/project directory — java_quick_install","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\"). distribution Java distribution download. One \"Corretto\", \"Temurin\", \"Zulu\". Defaults \"Corretto\". Ignored version SDKMAN identifier. backend Download backend use. One \"native\" (vendor APIs) \"sdkman\". Defaults \"native\". Can also set globally via options(rJavaEnv.backend = \"sdkman\"). project_path character vector length 1 containing project directory Java installed. specified NULL, defaults current working directory. platform platform download Java distribution. Defaults current platform. arch architecture download Java distribution. Defaults current architecture. quiet logical value indicating whether suppress messages. Can TRUE FALSE. temp_dir logical. Whether file saved temporary directory. Defaults FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_quick_install.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and install and set Java in current working/project directory — java_quick_install","text":"Invisibly returns path Java home directory. quiet set FALSE, also prints message indicating Java installed set current working/project directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_quick_install.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download and install and set Java in current working/project directory — java_quick_install","text":"","code":"# \\donttest{  # quick download, unpack, install and set in current working directory default Java version (21) java_quick_install(17, temp_dir = TRUE) #> Detected platform: linux #> Detected architecture: x64 #> You can change the platform and architecture by specifying the `platform` and #> `arch` arguments. #> File already cached: amazon-corretto-17.0.18.9.1-linux-x64.tar.gz #> Java distribution amazon-corretto-17.0.18.9.1-linux-x64.tar.gz already unpacked #> at /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #> ℹ You have rJava loaded in the current session. rJava gets locked to the Java version that was active when it was first initialized.rJava is initialized when you: (1) call `library(rJava)`, (2) load a package that imports rJava, (3) use IDE autocomplete with `rJava::`, or (4) call any rJava function.This path-locking is a limitation of rJava itself. See: https://github.com/s-u/rJava/issues/25, https://github.com/s-u/rJava/issues/249, and https://github.com/s-u/rJava/issues/334Unless you restart the R session or run your code in a new R subprocess (using targets or callr), the new `JAVA_HOME` and `PATH` will not take effect. #> ✔ Current R Session: JAVA_HOME and PATH set to /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #> ✔ Current R Project/Working Directory: JAVA_HOME and PATH set to '/home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17' in .Rprofile at '/tmp/RtmpZMc8LF/rJavaEnv_project' #> ℹ On Linux, for rJava to work correctly, `libjvm.so` was dynamically loaded in #>   the current session. #>   To make this change permanent for installing rJava-dependent packages from #>   source, you may need to reconfigure Java. #>   See <https://solutions.posit.co/envs-pkgs/using-rjava/#reconfigure-r> for #>   details. #>   If you have admin rights, run the following in your terminal: #>   `R CMD javareconf #>   JAVA_HOME=/home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17` #>   If you do not have admin rights, run: #>   `R CMD javareconf #>   JAVA_HOME=/home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 #>   -e` #> Java NA (amazon-corretto-17.0.18.9.1-linux-x64.tar.gz) for linux x64 installed #> at /home/runner/.cache/R/rJavaEnv/installed/linux/x64/Corretto/native/17 and #> symlinked to #> /tmp/RtmpZMc8LF/rJavaEnv_project/rjavaenv/linux/x64/Corretto/native/NA # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_resolve.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve path to specific Java version — java_resolve","title":"Resolve path to specific Java version — java_resolve","text":"Finds installs Java returns path JAVA_HOME. function modify environment variables.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_resolve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve path to specific Java version — java_resolve","text":"","code":"java_resolve(   version = NULL,   type = c(\"exact\", \"min\"),   distribution = \"Corretto\",   backend = getOption(\"rJavaEnv.backend\", \"native\"),   install = TRUE,   accept_system_java = TRUE,   quiet = FALSE,   cache_path = getOption(\"rJavaEnv.cache_path\"),   platform = platform_detect()$os,   arch = platform_detect()$arch,   .use_cache = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_resolve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve path to specific Java version — java_resolve","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\"). type Character. \"exact\" (default) checks exact version match. \"min\" checks version >= version. distribution Character. Java distribution download. Defaults \"Corretto\". Ignored version SDKMAN identifier. backend Download backend use. One \"native\" (vendor APIs) \"sdkman\". Defaults \"native\". Can also set globally via options(rJavaEnv.backend = \"sdkman\"). install Logical. TRUE (default), attempts download/install missing. FALSE, returns FALSE version found. accept_system_java Logical. TRUE (default), function scan system existing Java installations (using JAVA_HOME, PATH, OS-specific locations). system Java matching version type requirements found, used. Set FALSE ignore system installations strictly use rJavaEnv managed version. quiet logical value indicating whether suppress messages. Can TRUE FALSE. cache_path destination directory download Java distribution . Defaults user-specific data directory. platform platform download Java distribution. Defaults current platform. arch architecture download Java distribution. Defaults current architecture. .use_cache logical value controlling caching behavior. FALSE (default), performs fresh check time (safe, reflects current state). TRUE, uses session-scoped cached results performance loops repeated calls. Caching Behavior: Session-scoped: Cache cleared R restarts Key-based version checks: Changes JAVA_HOME create new cache entries System-wide scanning: Always recalculates current default Java Performance Benefits: First call: ~37-209ms (depending operation) Cached calls: <1ms Prevents 30-100ms delays every call performance-critical code Enable: Package initialization code (.onLoad similar) Loops calling function multiple times Performance-critical paths frequent version checks Keep Default (FALSE): Interactive use (one-checks) need current data reflecting recent Java installations General-purpose function calls time-critical","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_resolve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve path to specific Java version — java_resolve","text":"Character string (Path JAVA_HOME)","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_resolve.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Resolve path to specific Java version — java_resolve","text":"","code":"# \\donttest{ # Get path to Java 21 (installing if necessary) path <- java_resolve(version = 21, install = TRUE) #> ℹ Checking system for existing Java installations... #> ✔ Found valid system Java 21 at /usr/lib/jvm/java-21-openjdk-amd64 # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_unpack.html","id":null,"dir":"Reference","previous_headings":"","what":"Unpack a Java distribution file into cache directory — java_unpack","title":"Unpack a Java distribution file into cache directory — java_unpack","text":"Unpack Java distribution file cache directory return path unpacked Java directory Java binaries.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_unpack.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unpack a Java distribution file into cache directory — java_unpack","text":"","code":"java_unpack(   java_distrib_path,   distribution = NULL,   backend = NULL,   quiet = FALSE,   force = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_unpack.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unpack a Java distribution file into cache directory — java_unpack","text":"java_distrib_path character vector length 1 containing path Java distribution file. distribution Java distribution name (e.g., \"Corretto\", \"Temurin\"). NULL, attempts read attributes java_distrib_path, otherwise defaults \"unknown\". backend download backend used (e.g., \"native\", \"sdkman\"). NULL, attempts read attributes java_distrib_path, otherwise defaults \"unknown\". quiet logical value indicating whether suppress messages. Can TRUE FALSE. force logical. Whether overwrite existing installation. Defaults FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_unpack.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unpack a Java distribution file into cache directory — java_unpack","text":"character vector containing length 1 containing path unpacked Java directory.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_unpack.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unpack a Java distribution file into cache directory — java_unpack","text":"","code":"if (FALSE) { # \\dontrun{  # set cache dir to temporary directory options(rJavaEnv.cache_path = tempdir())  # download Java 17 distrib and unpack it into cache dir java_17_distrib <- java_download(version = \"17\") java_home <- java_unpack(java_distrib_path = java_17_distrib)  # set the JAVA_HOME environment variable in the current session # to the cache dir without touching any files in the current project directory java_env_set(where = \"session\", java_home = java_home) } # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_urls_load.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Java URLs from JSON file — java_urls_load","title":"Load Java URLs from JSON file — java_urls_load","text":"Load Java URLs JSON file","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_urls_load.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Java URLs from JSON file — java_urls_load","text":"","code":"java_urls_load()"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_urls_load.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Java URLs from JSON file — java_urls_load","text":"list Java URLs structured JSON file distribution, platform, architecture.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_major_versions_corretto.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Available Online Versions of Amazon Corretto — java_valid_major_versions_corretto","title":"Get Available Online Versions of Amazon Corretto — java_valid_major_versions_corretto","text":"function downloads latest Amazon Corretto version information Corretto GitHub endpoint returns data frame details eligible releases.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_major_versions_corretto.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Available Online Versions of Amazon Corretto — java_valid_major_versions_corretto","text":"","code":"java_valid_major_versions_corretto(   arch = NULL,   platform = NULL,   imageType = \"jdk\" )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_major_versions_corretto.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Available Online Versions of Amazon Corretto — java_valid_major_versions_corretto","text":"arch Optional character string target architecture (e.g., \"x64\"). NULL, inferred using platform_detect(). platform Optional character string operating system (e.g., \"windows\", \"macos\", \"linux\"). NULL, inferred using platform_detect(). imageType Optional character string filter ; defaults \"jdk\". Can set \"jre\" Windows Java Runtime Environment.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_major_versions_corretto.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Available Online Versions of Amazon Corretto — java_valid_major_versions_corretto","text":"character vector available major Corretto versions.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_major_versions_corretto.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Available Online Versions of Amazon Corretto — java_valid_major_versions_corretto","text":"leverages existing platform_detect() function infer current operating system architecture provided.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_major_versions_temurin.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Available Online Versions of Adoptium Temurin — java_valid_major_versions_temurin","title":"Get Available Online Versions of Adoptium Temurin — java_valid_major_versions_temurin","text":"Get Available Online Versions Adoptium Temurin","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_major_versions_temurin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Available Online Versions of Adoptium Temurin — java_valid_major_versions_temurin","text":"","code":"java_valid_major_versions_temurin(arch = NULL, platform = NULL)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_major_versions_zulu.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Available Online Versions of Azul Zulu — java_valid_major_versions_zulu","title":"Get Available Online Versions of Azul Zulu — java_valid_major_versions_zulu","text":"Get Available Online Versions Azul Zulu","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_major_versions_zulu.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Available Online Versions of Azul Zulu — java_valid_major_versions_zulu","text":"","code":"java_valid_major_versions_zulu(arch = NULL, platform = NULL, imageType = \"jdk\")"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_versions.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Valid Java Versions — java_valid_versions","title":"Retrieve Valid Java Versions — java_valid_versions","text":"function retrieves list valid Java versions querying appropriate API endpoint based chosen distribution. result cached across sessions via file cache (24 hours) within session memory (8 hours) avoid repeated API calls. API call fails (example, due lack internet connectivity), function falls back pre-defined list Java versions.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_versions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Valid Java Versions — java_valid_versions","text":"","code":"java_valid_versions(   distribution = \"Corretto\",   platform = platform_detect()$os,   arch = platform_detect()$arch,   force = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_versions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Valid Java Versions — java_valid_versions","text":"distribution Java distribution download. One \"Corretto\", \"Temurin\", \"Zulu\". Defaults \"Corretto\". Ignored version SDKMAN identifier. platform platform download Java distribution. Defaults current platform. arch architecture download Java distribution. Defaults current architecture. force Logical. TRUE, forces fresh API call even cached value exists. Defaults FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_versions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Valid Java Versions — java_valid_versions","text":"character vector valid Java versions.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_versions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Valid Java Versions — java_valid_versions","text":"","code":"# \\donttest{   # Retrieve valid Java versions (cached if available) using Amazon Corretto endpoint   versions <- java_valid_versions()    # Force refresh the list of Java versions for Amazon Corretto   versions <- java_valid_versions(distribution = \"Corretto\", force = TRUE) # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_versions_fast.html","id":null,"dir":"Reference","previous_headings":"","what":"Get valid Java versions without network overhead — java_valid_versions_fast","title":"Get valid Java versions without network overhead — java_valid_versions_fast","text":"Returns list valid Java versions fastest available source. function never triggers network call. checks: Session cache (current options) Persistent file cache (24 hours) Shipped fallback list current platform useful offline workflows parsing filenames.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_versions_fast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get valid Java versions without network overhead — java_valid_versions_fast","text":"","code":"java_valid_versions_fast()"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_valid_versions_fast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get valid Java versions without network overhead — java_valid_versions_fast","text":"character vector valid Java versions.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_version_check_rscript.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Java version using rJava — java_version_check_rscript","title":"Check Java version using rJava — java_version_check_rscript","text":"Check Java version using rJava","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_version_check_rscript.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Java version using rJava — java_version_check_rscript","text":"","code":"java_version_check_rscript(java_home)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_version_check_rscript.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Java version using rJava — java_version_check_rscript","text":"java_home","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/java_version_check_rscript.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Java version using rJava — java_version_check_rscript","text":"message Java version error message.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/known_sdkman_vendors.html","id":null,"dir":"Reference","previous_headings":"","what":"Known SDKMAN vendor codes — known_sdkman_vendors","title":"Known SDKMAN vendor codes — known_sdkman_vendors","text":"Returns vector known SDKMAN vendor suffixes extracted java_list_available(). Used robust SDKMAN identifier detection.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/known_sdkman_vendors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Known SDKMAN vendor codes — known_sdkman_vendors","text":"","code":"known_sdkman_vendors()"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/known_sdkman_vendors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Known SDKMAN vendor codes — known_sdkman_vendors","text":"Character vector vendor codes","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/local_java_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Java environment for the current scope — local_java_env","title":"Set Java environment for the current scope — local_java_env","text":"Sets JAVA_HOME PATH specified Java version remainder current function scope. environment automatically restored scope exits.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/local_java_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Java environment for the current scope — local_java_env","text":"","code":"local_java_env(   version,   type = c(\"exact\", \"min\"),   distribution = \"Corretto\",   install = TRUE,   accept_system_java = TRUE,   quiet = TRUE,   .local_envir = parent.frame(),   .use_cache = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/local_java_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Java environment for the current scope — local_java_env","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\"). type Character. \"exact\" (default) checks exact version match. \"min\" checks version >= version. distribution Character. Java distribution download. Defaults \"Corretto\". Ignored version SDKMAN identifier. install Logical. TRUE (default), attempts download/install missing. FALSE, returns FALSE version found. accept_system_java Logical. TRUE (default), function scan system existing Java installations (using JAVA_HOME, PATH, OS-specific locations). system Java matching version type requirements found, used. Set FALSE ignore system installations strictly use rJavaEnv managed version. quiet logical value indicating whether suppress messages. Can TRUE FALSE. .local_envir environment apply scope . Defaults calling frame. .use_cache Logical. TRUE, uses cached results Java version checks, improving performance repeated calls (e.g., inside loops).","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/local_java_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Java environment for the current scope — local_java_env","text":"Invisibly returns path selected JAVA_HOME.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/local_java_env.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set Java environment for the current scope — local_java_env","text":"recommended way package developers use Java executables (via system2 processx) without permanently altering user's global environment.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/local_java_env.html","id":"warning-not-for-rjava","dir":"Reference","previous_headings":"","what":"Warning - Not for rJava","title":"Set Java environment for the current scope — local_java_env","text":"use function package depends rJava. rJava locks JVM initialization switch versions within session. load rJava-dependent package inside local_java_env() scope, rJava lock scoped version, scope exits, JAVA_HOME revert rJava remains locked old version. rJava packages, use java_ensure() start R session instead.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/local_java_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set Java environment for the current scope — local_java_env","text":"","code":"if (FALSE) { # \\dontrun{ # Using system2 my_tool_wrapper <- function() {   rJavaEnv::local_java_env(version = 21)   system2(\"java\", \"-version\") } # Environment restored automatically here  # Using processx # run_java_jar <- function(jar_path, args) { #  rJavaEnv::local_java_env(version = 21) #  processx::run(\"java\", c(\"-jar\", jar_path, args)) # }  # With caching for repeated calls # process_files <- function(files) { #  for (f in files) { #    rJavaEnv::local_java_env(version = 21, .use_cache = TRUE) #   processx::run(\"java\", c(\"-jar\", \"processor.jar\", f)) #  } # } } # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/platform_detect.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect platform and architecture — platform_detect","title":"Detect platform and architecture — platform_detect","text":"Detect platform architecture","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/platform_detect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect platform and architecture — platform_detect","text":"","code":"platform_detect(quiet = TRUE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/platform_detect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect platform and architecture — platform_detect","text":"quiet logical value indicating whether suppress messages. Can TRUE FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/platform_detect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect platform and architecture — platform_detect","text":"list length 2 detected platform architecture.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rJavaEnv-package.html","id":null,"dir":"Reference","previous_headings":"","what":"rJavaEnv: 'Java' Environments for R Projects — rJavaEnv-package","title":"rJavaEnv: 'Java' Environments for R Projects — rJavaEnv-package","text":"Quickly install 'Java Development Kit (JDK)' without administrative privileges set environment variables current R session project solve common issues 'Java' environment management 'R'. Recommended users 'Java'/'rJava'-dependent 'R' packages 'r5r', 'opentripplanner', 'xlsx', 'openNLP', 'rWeka', 'RJDBC', 'tabulapdf', many . 'rJavaEnv' prevents common problems like 'Java' found, 'Java' version conflicts, missing 'Java' installations, inability install 'Java' due lack administrative privileges. 'rJavaEnv' automates download, installation, setup 'Java' per-project basis setting relevant 'JAVA_HOME' current 'R' session current working directory (via '.Rprofile', user's consent). Similar 'renv' 'R' packages, 'rJavaEnv' allows different 'Java' versions used across different projects, can also configured allow multiple versions within project (e.g. help 'targets' package). users need install 'rJava' 'Java'-dependent packages source, 'rJavaEnv' display message instructions run 'R CMD javareconf' make 'Java' configuration permanent, also provides function 'java_build_env_set' sets environment variables current R session temporarily allow installation 'rJava' source without 'R CMD javareconf'. 'Linux', addition setting environment variables, 'rJavaEnv' also dynamically loads 'libjvm.' ensure 'rJava' works correctly. See documentation details.","code":""},{"path":[]},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rJavaEnv-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"rJavaEnv: 'Java' Environments for R Projects — rJavaEnv-package","text":"Maintainer: Egor Kotov kotov.egor@gmail.com (ORCID) [copyright holder] Authors: Chung-hong Chan chainsawtiney@gmail.com (ORCID) contributors: Mauricio Vargas mavargas11@uc.cl (ORCID) [contributor] Hadley Wickham hadley@posit.co (use_java feature suggestion PR review) [contributor] Enrique Mondragon-Estrada enriquemondragon@proton.(ORCID) [contributor] Jonas Lieth jonas.lieth@gesis.org (ORCID) [contributor]","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/read_json_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Read JSON from a URL — read_json_url","title":"Read JSON from a URL — read_json_url","text":"Helper function read JSON URL using RcppSimdJson fast parsing","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/read_json_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read JSON from a URL — read_json_url","text":"","code":"read_json_url(url, max_simplify_lvl = \"data_frame\")"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/read_json_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read JSON from a URL — read_json_url","text":"url URL read JSON max_simplify_lvl Simplification level (default: \"data_frame\")","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/read_json_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read JSON from a URL — read_json_url","text":"Parsed JSON object","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_corretto_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve Corretto metadata from AWS JSON — resolve_corretto_metadata","title":"Resolve Corretto metadata from AWS JSON — resolve_corretto_metadata","text":"Resolves download metadata Amazon Corretto official JSON index","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_corretto_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve Corretto metadata from AWS JSON — resolve_corretto_metadata","text":"","code":"resolve_corretto_metadata(version, platform, arch)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_corretto_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve Corretto metadata from AWS JSON — resolve_corretto_metadata","text":"version Major Java version platform Platform OS arch Architecture","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_corretto_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve Corretto metadata from AWS JSON — resolve_corretto_metadata","text":"java_build object","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_java_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve Java download metadata — resolve_java_metadata","title":"Resolve Java download metadata — resolve_java_metadata","text":"Dispatches metadata resolution appropriate backend distribution resolver","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_java_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve Java download metadata — resolve_java_metadata","text":"","code":"resolve_java_metadata(   version,   distribution = \"Corretto\",   platform = platform_detect()$os,   arch = platform_detect()$arch,   backend = getOption(\"rJavaEnv.backend\", \"native\") )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_java_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve Java download metadata — resolve_java_metadata","text":"version Major Java version (e.g., 21, 17, 11) distribution Java distribution name (\"Corretto\", \"Temurin\", \"Zulu\") platform Platform OS (e.g., \"linux\", \"macos\", \"windows\") arch Architecture (e.g., \"x64\", \"aarch64\") backend Download backend use: \"native\" (vendor APIs) \"sdkman\"","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_java_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve Java download metadata — resolve_java_metadata","text":"java_build object containing download metadata","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_sdkman_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve metadata via SDKMAN broker (NO CHECKSUM) — resolve_sdkman_metadata","title":"Resolve metadata via SDKMAN broker (NO CHECKSUM) — resolve_sdkman_metadata","text":"Resolves download metadata querying SDKMAN API. Note: SDKMAN provide checksums, verification skipped warning.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_sdkman_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve metadata via SDKMAN broker (NO CHECKSUM) — resolve_sdkman_metadata","text":"","code":"resolve_sdkman_metadata(version, distribution, platform, arch)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_sdkman_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve metadata via SDKMAN broker (NO CHECKSUM) — resolve_sdkman_metadata","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\"). distribution Java distribution name platform Platform OS arch Architecture","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_sdkman_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve metadata via SDKMAN broker (NO CHECKSUM) — resolve_sdkman_metadata","text":"java_build object checksum=NULL","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_temurin_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve Temurin metadata from Adoptium API — resolve_temurin_metadata","title":"Resolve Temurin metadata from Adoptium API — resolve_temurin_metadata","text":"Resolves download metadata Eclipse Temurin Adoptium API","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_temurin_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve Temurin metadata from Adoptium API — resolve_temurin_metadata","text":"","code":"resolve_temurin_metadata(version, platform, arch)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_temurin_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve Temurin metadata from Adoptium API — resolve_temurin_metadata","text":"version Major Java version platform Platform OS arch Architecture","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_temurin_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve Temurin metadata from Adoptium API — resolve_temurin_metadata","text":"java_build object","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_zulu_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve Zulu metadata from Azul API — resolve_zulu_metadata","title":"Resolve Zulu metadata from Azul API — resolve_zulu_metadata","text":"Resolves download metadata Azul Zulu Azul API","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_zulu_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve Zulu metadata from Azul API — resolve_zulu_metadata","text":"","code":"resolve_zulu_metadata(version, platform, arch)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_zulu_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve Zulu metadata from Azul API — resolve_zulu_metadata","text":"version Major Java version platform Platform OS arch Architecture","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/resolve_zulu_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve Zulu metadata from Azul API — resolve_zulu_metadata","text":"java_build object","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rjava_path_locking_note.html","id":null,"dir":"Reference","previous_headings":"","what":"rJava Path-Locking Documentation — rjava_path_locking_note","title":"rJava Path-Locking Documentation — rjava_path_locking_note","text":"Documentation template rJava path-locking behavior.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rjava_path_locking_note.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"rJava Path-Locking Documentation — rjava_path_locking_note","text":"","code":"rjava_path_locking_note()"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rjava_path_locking_note.html","id":"rjava-path-locking","dir":"Reference","previous_headings":"","what":"rJava Path-Locking","title":"rJava Path-Locking Documentation — rjava_path_locking_note","text":"Important rJava Users: function sets environment variables (JAVA_HOME, PATH) affect command-line Java tools rJava initialization. However, due rJava's path-locking behavior .jinit called (see https://github.com/s-u/rJava/issues/25, https://github.com/s-u/rJava/issues/249, https://github.com/s-u/rJava/issues/334), function must called .jinit invoked. .jinit initializes, Java version locked R session changed without restarting R. .jinit invoked (Java locked) : Explicitly call library(rJava) Load package imports rJava (auto-loads dependency) Even just use IDE autocomplete rJava:: (triggers initialization!) Call rJava-dependent function happen, Java version used rJava session locked . command-line Java tools use rJava, function can called time switch Java versions subsequent system calls.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtain User Consent for rJavaEnv — rje_consent","title":"Obtain User Consent for rJavaEnv — rje_consent","text":"Get user consent rJavaEnv write update files file system. rJavaEnv needs permission manage files project cache directories function correctly.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obtain User Consent for rJavaEnv — rje_consent","text":"","code":"rje_consent(provided = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtain User Consent for rJavaEnv — rje_consent","text":"provided Logical indicating consent already provided. provide consent non-interactive R sessions use rJavaEnv::rje_consent(provided = TRUE). Default FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obtain User Consent for rJavaEnv — rje_consent","text":"TRUE consent given, otherwise error raised.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Obtain User Consent for rJavaEnv — rje_consent","text":"line CRAN policies, explicit user consent required making changes. Please call rJavaEnv::consent() provide consent. Alternatively, can set following R option (especially useful non-interactive R sessions):   function based code renv package. Copyright 2023 Posit Software, PBC License: https://github.com/rstudio/renv/blob/main/LICENSE","code":"options(rJavaEnv.consent = TRUE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Obtain User Consent for rJavaEnv — rje_consent","text":"","code":"# \\donttest{  # to provide consent and prevent other functions from interrupting to get the consent rje_consent(provided = TRUE) #> Consent for using rJavaEnv has already been provided. # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent_check.html","id":null,"dir":"Reference","previous_headings":"","what":"Verify User Consent for rJavaEnv — rje_consent_check","title":"Verify User Consent for rJavaEnv — rje_consent_check","text":"Ensure user granted permission rJavaEnv manage files file system.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent_check.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Verify User Consent for rJavaEnv — rje_consent_check","text":"","code":"rje_consent_check()"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent_check.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Verify User Consent for rJavaEnv — rje_consent_check","text":"TRUE consent verified, otherwise error raised.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_consent_check.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Verify User Consent for rJavaEnv — rje_consent_check","text":"function based code renv package. Copyright 2023 Posit Software, PBC License: https://github.com/rstudio/renv/blob/main/LICENSE","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_envvar_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper for clean env var check — rje_envvar_exists","title":"Helper for clean env var check — rje_envvar_exists","text":"#' function based code renv package. Copyright 2023 Posit Software, PBC License: https://github.com/rstudio/renv/blob/main/LICENSE","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_envvar_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper for clean env var check — rje_envvar_exists","text":"","code":"rje_envvar_exists(key)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/rje_envvar_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper for clean env var check — rje_envvar_exists","text":"key environment variable key check.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/sdkman_vendor_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract vendor code from SDKMAN identifier — sdkman_vendor_code","title":"Extract vendor code from SDKMAN identifier — sdkman_vendor_code","text":"Extract vendor code SDKMAN identifier","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/sdkman_vendor_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract vendor code from SDKMAN identifier — sdkman_vendor_code","text":"","code":"sdkman_vendor_code(identifier)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/sdkman_vendor_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract vendor code from SDKMAN identifier — sdkman_vendor_code","text":"identifier SDKMAN identifier (e.g., \"25.0.1-amzn\")","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/sdkman_vendor_code.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract vendor code from SDKMAN identifier — sdkman_vendor_code","text":"Vendor code (e.g., \"amzn\")","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/sdkman_vendor_to_distribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Map SDKMAN vendor code to distribution name — sdkman_vendor_to_distribution","title":"Map SDKMAN vendor code to distribution name — sdkman_vendor_to_distribution","text":"Uses reverse mapping java_config.yaml. Issues warning unknown vendors.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/sdkman_vendor_to_distribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map SDKMAN vendor code to distribution name — sdkman_vendor_to_distribution","text":"","code":"sdkman_vendor_to_distribution(vendor_code)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/sdkman_vendor_to_distribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map SDKMAN vendor code to distribution name — sdkman_vendor_to_distribution","text":"vendor_code SDKMAN vendor code (e.g., \"amzn\", \"tem\")","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/sdkman_vendor_to_distribution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map SDKMAN vendor code to distribution name — sdkman_vendor_to_distribution","text":"Distribution name (e.g., \"Corretto\", \"Temurin\")","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/set_java_build_env_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to set Java build environment variables — set_java_build_env_vars","title":"Helper function to set Java build environment variables — set_java_build_env_vars","text":"Helper function set Java build environment variables","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/set_java_build_env_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to set Java build environment variables — set_java_build_env_vars","text":"","code":"set_java_build_env_vars(java_home, quiet = FALSE)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/set_java_build_env_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function to set Java build environment variables — set_java_build_env_vars","text":"java_home path desired JAVA_HOME. quiet logical value indicating whether suppress messages. Can TRUE FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/urls_test_all.html","id":null,"dir":"Reference","previous_headings":"","what":"Test all Java URLs — urls_test_all","title":"Test all Java URLs — urls_test_all","text":"Test Java URLs","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/urls_test_all.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test all Java URLs — urls_test_all","text":"","code":"urls_test_all()"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/urls_test_all.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test all Java URLs — urls_test_all","text":"list results testing Java URLs.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/use_java.html","id":null,"dir":"Reference","previous_headings":"","what":"Install specified Java version and set the JAVA_HOME and PATH environment variables in current R session — use_java","title":"Install specified Java version and set the JAVA_HOME and PATH environment variables in current R session — use_java","text":"Using specified Java version, set JAVA_HOME PATH environment variables current R session. Java distribtuion downloaded yet, download . installed cache directory yet, install set environment variables. function first checks requested version already present rJavaEnv cache. found, sets environment immediately without downloading. found, downloads unpacks distribution. intended quick easy way use different Java versions R scripts project, require different Java versions. example, one use scripts called targets package callr package.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/use_java.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install specified Java version and set the JAVA_HOME and PATH environment variables in current R session — use_java","text":"","code":"use_java(   version = NULL,   distribution = \"Corretto\",   backend = getOption(\"rJavaEnv.backend\", \"native\"),   cache_path = getOption(\"rJavaEnv.cache_path\"),   platform = platform_detect()$os,   arch = platform_detect()$arch,   quiet = TRUE,   ._skip_rjava_check = FALSE )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/use_java.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install specified Java version and set the JAVA_HOME and PATH environment variables in current R session — use_java","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\"). distribution Java distribution download. Defaults \"Corretto\". Ignored version SDKMAN identifier. backend download backend used (e.g., \"native\", \"sdkman\"). NULL, uses attributes java_distrib_path defaults \"unknown\". cache_path destination directory download Java distribution . Defaults user-specific data directory. platform platform download Java distribution. Defaults current platform. arch architecture download Java distribution. Defaults current architecture. quiet logical value indicating whether suppress messages. Can TRUE FALSE. ._skip_rjava_check Internal. TRUE, skip rJava initialization check.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/use_java.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install specified Java version and set the JAVA_HOME and PATH environment variables in current R session — use_java","text":"Logical. Returns TRUE invisibly success. Prints status messages quiet set FALSE.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/use_java.html","id":"rjava-path-locking","dir":"Reference","previous_headings":"","what":"rJava Path-Locking","title":"Install specified Java version and set the JAVA_HOME and PATH environment variables in current R session — use_java","text":"Important rJava Users: function sets environment variables (JAVA_HOME, PATH) affect command-line Java tools rJava initialization. However, due rJava's path-locking behavior .jinit called (see https://github.com/s-u/rJava/issues/25, https://github.com/s-u/rJava/issues/249, https://github.com/s-u/rJava/issues/334), function must called .jinit invoked. .jinit initializes, Java version locked R session changed without restarting R. .jinit invoked (Java locked) : Explicitly call library(rJava) Load package imports rJava (auto-loads dependency) Even just use IDE autocomplete rJava:: (triggers initialization!) Call rJava-dependent function happen, Java version used rJava session locked . command-line Java tools use rJava, function can called time switch Java versions subsequent system calls.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/use_java.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install specified Java version and set the JAVA_HOME and PATH environment variables in current R session — use_java","text":"","code":"if (FALSE) { # \\dontrun{  # set cache directory for Java to be in temporary directory options(rJavaEnv.cache_path = tempdir())  # For end users: Install and set Java BEFORE loading rJava packages use_java(21) # library(myRJavaPackage)  # Now uses Java 21  # For command-line Java tools (no rJava involved): # Can switch versions between system calls use_java(8) system2(\"java\", \"-version\")  # Shows Java 8 use_java(17) system2(\"java\", \"-version\")  # Shows Java 17  # WARNING: Do NOT do this with rJava packages: # library(rJava)          # Initializes with system Java # use_java(21)            # Too late! rJava is already locked # rJava still uses the Java version from before use_java() call  } # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_java_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute code with a specific Java environment — with_java_env","title":"Execute code with a specific Java environment — with_java_env","text":"Temporarily sets JAVA_HOME PATH duration provided code block, restores previous environment.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_java_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute code with a specific Java environment — with_java_env","text":"","code":"with_java_env(version, code, ...)"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_java_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute code with a specific Java environment — with_java_env","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\"). code code execute temporary Java environment. ... Additional arguments passed local_java_env().","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_java_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute code with a specific Java environment — with_java_env","text":"result executing code.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_java_env.html","id":"warning-not-for-rjava","dir":"Reference","previous_headings":"","what":"Warning - Not for rJava","title":"Execute code with a specific Java environment — with_java_env","text":"use function package depends rJava. See local_java_env() details rJava incompatible scoped Java switching.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_java_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute code with a specific Java environment — with_java_env","text":"","code":"# \\donttest{ # Using system2 rJavaEnv::with_java_env(version = 21, {   system2(\"java\", \"-version\") })  # Using processx # rJavaEnv::with_java_env(version = 21, { #  processx::run(\"java\", c(\"-jar\", \"tool.jar\", \"--help\")) # }) # }"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_rjava_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute rJava code in a separate process with specific Java version — with_rjava_env","title":"Execute rJava code in a separate process with specific Java version — with_rjava_env","text":"Runs provided function fresh R subprocess rJava yet loaded. allows enforce specific Java version rJava operations without affecting main R session requiring restart.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_rjava_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute rJava code in a separate process with specific Java version — with_rjava_env","text":"","code":"with_rjava_env(   version,   func,   args = list(),   distribution = \"Corretto\",   install = TRUE,   accept_system_java = TRUE,   quiet = TRUE,   libpath = .libPaths() )"},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_rjava_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute rJava code in a separate process with specific Java version — with_rjava_env","text":"version Java version specification. Accepts: Major version (e.g., 21, 17): Downloads latest release major version. Specific version (e.g., \"21.0.9\", \"11.0.29\"): Downloads exact version. SDKMAN identifier (e.g., \"25.0.1-amzn\", \"24.0.2-open\"): Uses SDKMAN backend automatically. identifier detected, distribution backend arguments ignored derived identifier. Find available identifiers identifier column java_list_available(backend = \"sdkman\"). func function execute subprocess. args list arguments pass func. distribution Character. Java distribution download. Defaults \"Corretto\". Ignored version SDKMAN identifier. install Logical. TRUE (default), attempts download/install missing. FALSE, returns FALSE version found. accept_system_java Logical. TRUE (default), function scan system existing Java installations (using JAVA_HOME, PATH, OS-specific locations). system Java matching version type requirements found, used. Set FALSE ignore system installations strictly use rJavaEnv managed version. quiet logical value indicating whether suppress messages. Can TRUE FALSE. libpath Optional character vector library paths use subprocess. Defaults .libPaths().","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_rjava_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute rJava code in a separate process with specific Java version — with_rjava_env","text":"result func.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_rjava_env.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Execute rJava code in a separate process with specific Java version — with_rjava_env","text":"function requires callr package.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/reference/with_rjava_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute rJava code in a separate process with specific Java version — with_rjava_env","text":"","code":"# \\donttest{ # Run a function using Java 21 in a subprocess result <- with_rjava_env(   version = 21,   func = function(x) {     library(rJava)     .jinit()     .jcall(\"java.lang.System\", \"S\", \"getProperty\", \"java.version\")   },   args = list(x = 1) ) print(result) #> [1] \"21.0.10\" # }"},{"path":[]},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"new-features-development-version","dir":"Changelog","previous_headings":"","what":"New features","title":"rJavaEnv (development version)","text":"Linux support. Linux, libjvm.location automatically detected force-loaded via dyn.load(). Thanks , rJava depenent R packages can installed loaded, repositories pre-built packages, Posit Package Manager, used build rJava source, see java_build_env_set() function. New function java_build_env_set() sets environment (either temporarily current session ./.Rprofile file current working directory) build rJava source macOS, Linux Windows platforms. uses current value JAVA_HOME environment variable default, convenient use java_quick_install() use_java() commands. running java_build_env_set(), users can install rJava source install.packages(\"rJava\", type = \"source\") without additional configuration. However, users still need system dependencies, e.g. Linux need: libpcre2-dev, libdeflate-dev, libzstd-dev, liblzma-dev, libbz2-dev, zlib1g-dev, libicu-dev. system message suggested apt-get command printed. Windows, Rtools must installed. macOS, Xcode Command Line Tools must installed. See new vignette Install 'rJava' source details. New function java_get_home() get currently set JAVA_HOME. just shortcut Sys.getenv(\"JAVA_HOME\"), faster type can even faster used autocomplete.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"performance-improvements-development-version","dir":"Changelog","previous_headings":"","what":"Performance Improvements","title":"rJavaEnv (development version)","text":"First call java_check_version_cmd(): ~37ms Subsequent calls: <1ms (123x faster) Cache correctly handles version switching via use_java() using JAVA_HOME key manual caching needed downstream packages - completely transparent Added memoise package dependency session-scoped caching","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"improvements-development-version","dir":"Changelog","previous_headings":"","what":"Improvements","title":"rJavaEnv (development version)","text":"Download progress printing java_download() respects quiet argument now (internally passing value curl::curl_download()). robust Java version detection java_check_version_cmd(). java_quick_install() now also invisibly returns path JAVA_HOME. Added rlang dependency, cli uses anyway functions use rJavaEnv, declare dependency. Therefore previously might caused annoyances users, installing rJavaEnv use functions installed rlang manually.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"rjavaenv-030","dir":"Changelog","previous_headings":"","what":"rJavaEnv 0.3.0","title":"rJavaEnv 0.3.0","text":"CRAN release: 2025-04-04","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"new-features-0-3-0","dir":"Changelog","previous_headings":"","what":"New features","title":"rJavaEnv 0.3.0","text":"Java version (currently still Amazon Corretto) now determined dynamically using official GitHub json releases, new Java version becomes available, depenent rJavaEnv updated. fallback, versions 24 hardcoded. Added force argument java_download(). set TRUE, allows overwrite distribution file already exist cache. save trouble deleting cached file java_clear() re-downloading. Added new function java_valid_versions() allows retrieve list available Java versions current automatically detected OS CPU architecture, user-specified platform architecture.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"improvements-0-3-0","dir":"Changelog","previous_headings":"","what":"Improvements","title":"rJavaEnv 0.3.0","text":"Better command line Java detection (thanks Jonas Lieth) Test coverage now 7.2%","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"rjavaenv-022-2024-09-13","dir":"Changelog","previous_headings":"","what":"rJavaEnv 0.2.2 (2024-09-13)","title":"rJavaEnv 0.2.2 (2024-09-13)","text":"CRAN release: 2024-09-13 Hot fix: improve robustness setting Java environment current session either use_java() java_quick_install(). See bug fix . Bug fix: Setting Java environment via rJava::.jniInitialized() rendered impossible changing Java version rJava-dependent packages, somehow pre-initialised rJava","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"rjavaenv-021-2024-09-03","dir":"Changelog","previous_headings":"","what":"rJavaEnv 0.2.1 (2024-09-03)","title":"rJavaEnv 0.2.1 (2024-09-03)","text":"CRAN release: 2024-09-03 Documentation description clean-","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"rjavaenv-020-2024-08-28","dir":"Changelog","previous_headings":"","what":"rJavaEnv 0.2.0 (2024-08-28)","title":"rJavaEnv 0.2.0 (2024-08-28)","text":"Breaking change: java_check_version_cmd() java_check_version_rjava() now return detected Java version instead TRUE/FALSE New function use_java() download, install set Java cache current sesssion, without touching current project/working directory. intended use targets callr. New vignette using package targets' 'callr Updated documentation clearer instructions cache folder cleanup removing package Depends R > 4.0 able write package cache directory without extra user warning. Cache cleanup management functions provided, well documentation README vignettes.","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"rjavaenv-012","dir":"Changelog","previous_headings":"","what":"rJavaEnv 0.1.2","title":"rJavaEnv 0.1.2","text":"CRAN release: 2024-08-26 Fixed broken links README.md","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"rjavaenv-011","dir":"Changelog","previous_headings":"","what":"rJavaEnv 0.1.1","title":"rJavaEnv 0.1.1","text":"Improved documentation Better handling cache directory Bug fixes changes address CRAN reviewer’s comments first submission","code":""},{"path":"https://www.ekotov.pro/rJavaEnv/news/index.html","id":"rjavaenv-010","dir":"Changelog","previous_headings":"","what":"rJavaEnv 0.1.0","title":"rJavaEnv 0.1.0","text":"Initial release","code":""}]
