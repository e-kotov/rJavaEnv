<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>rJavaEnv: Java Environments for R Projects • rJavaEnv</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="rJavaEnv: Java Environments for R Projects">
<meta name="description" content="Install and manage Java environments using R">
<meta property="og:description" content="Install and manage Java environments using R">
<meta property="og:image" content="https://www.ekotov.pro/rJavaEnv/pkgdown/assets/images/card.png">
<meta property="og:image:alt" content="rJavaEnv: Java Environments for R Projects. Install and manage Java environments using R">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@EgorKotov">
<meta name="twitter:site" content="@EgorKotov">
<!-- counter.dev analytics --><script data-goatcounter="https://jukadipos.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script><!-- counter.dev analytics --><script src="https://cdn.counter.dev/script.js" data-id="7e3e8d31-9a84-48b0-a678-a00715236a90" data-utcoffset="1"></script><script>
 (function(h,o,t,j,a,r){
     h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
     h._hjSettings={hjid:3578286,hjsv:6};
     a=o.getElementsByTagName('head')[0];
     r=o.createElement('script');r.async=1;
     r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
     a.appendChild(r);
 })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rJavaEnv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/rJavaEnv.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/why-rJavaEnv.html">Why rJavaEnv: the landscape of Java-dependent R packages</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/e-kotov/rJavaEnv/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="rjavaenv-java-environments-for-r-projects-">rJavaEnv: Java Environments for R Projects 
<a class="anchor" aria-label="anchor" href="#rjavaenv-java-environments-for-r-projects-"></a>
</h1>
</div>
<!-- badges: start -->


<!-- badges: end -->
<p>The goal of <code>rJavaEnv</code> is to manage multiple Java JDKs in R projects by automating the process of downloading, installing, and configuring Java environments on a per-project basis. This package is inspired by the <a href="https://rstudio.github.io/renv/" target="_blank" class="external-link"><code>renv</code></a> package for managing R environments in R projects.</p>
<p>You can request a specific Java Development Kit (JDK) in your project, and <code>rJavaEnv</code> will download and install the requested Java environment in a project-specific directory and set the PATH and JAVA_HOME for when you are using this project. Therefore, you can have different Java versions for different projects without contaminating your system with different Java versions.</p>
<p><strong>WARNING</strong> This package is in the early stages of development and is not yet ready for production use. Please test it thoroughly before using it in your projects.</p>
<div class="section level2">
<h2 id="install">Install<a class="anchor" aria-label="anchor" href="#install"></a>
</h2>
<p>You can install the development version of <code>rJavaEnv</code> from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"remotes"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"e-kotov/rJavaEnv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="simple-example">Simple Example<a class="anchor" aria-label="anchor" href="#simple-example"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rJavaEnv</span><span class="fu">::</span><span class="fu"><a href="reference/java_quick_install.html">java_quick_install</a></span><span class="op">(</span>version <span class="op">=</span> <span class="fl">21</span><span class="op">)</span></span></code></pre></div>
<p>This will:</p>
<ul>
<li><p>download Java 21 distribution compatible with the current operating system and processor architecture into a local cache folder;</p></li>
<li><p>extract the downloaded Java distribution into another cache folder;</p></li>
<li><p>create a symbolic link (for macOS and Linux) or junction (for Windows, if that fails, just copies the files) <strong>rjavaenv/<code>platform</code>/<code>processor_architecture</code>/<code>java_version</code></strong> in the current directory/project to point to the cached installation;</p></li>
<li><p>set the current session’s JAVA_HOME and PATH environment variables to point to the installed (symlinked) Java distribution;</p></li>
<li><p>add code to .Rprofile file in the current directory/project to set JAVA_HOME and PATH environment variables when the project is opened in RStudio.</p></li>
</ul>
<p>After that, you can even remove <code>rJavaEnv</code> completely, as the Java environment will be set up in the project directory with the base R code that does not rely on <code>rJavaEnv</code>.</p>
</div>
<div class="section level2">
<h2 id="functions-overview">Functions Overview<a class="anchor" aria-label="anchor" href="#functions-overview"></a>
</h2>
<p>The package has several core functions:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="reference/java_quick_install.html">java_quick_install()</a></code>
<ul>
<li>Downloads, installs, and sets Java environment in the current working/project directory, all in one line of code.</li>
</ul>
</li>
<li>
<code><a href="reference/java_check_version_cmd.html">java_check_version_cmd()</a></code>
<ul>
<li>Checks the installed Java version using terminal commands. For packages like <a href="https://github.com/ropensci/opentripplanner" target="_blank" class="external-link"><code>opentripplanner</code></a>, that performs Java calls using command line.</li>
</ul>
</li>
<li>
<code>java_version_check_rjava()</code>
<ul>
<li>Checks the installed Java version using <code>rJava</code> in a separate R session. For <code>rJava</code>-dependent packages such as <a href="https://github.com/ipeaGIT/r5r" target="_blank" class="external-link"><code>r5r</code></a>.</li>
</ul>
</li>
<li>
<code><a href="reference/java_download.html">java_download()</a></code>
<ul>
<li>Downloads a specified version and distribution of Java.</li>
</ul>
</li>
<li>
<code><a href="reference/java_install.html">java_install()</a></code>
<ul>
<li>Installs a Java distribution file into current (or user-specified) project directory.</li>
</ul>
</li>
<li>
<code><a href="reference/java_env_set.html">java_env_set()</a></code>
<ul>
<li>Sets the JAVA_HOME and PATH environment variables to a given path in current R session and/or in the .Rprofile file in the project directory.</li>
</ul>
</li>
<li>
<code><a href="reference/java_env_unset.html">java_env_unset()</a></code>
<ul>
<li>Remove the JAVA_HOME and PATH environment variables from the .Rpofile file in the project directory (but not in the current R session, please restart the session so that R picks up the system Java).</li>
</ul>
</li>
<li>
<code><a href="reference/java_list.html">java_list()</a></code>
<ul>
<li>Lists all or some Java versions linked in the current project (or cached distributions or installations).</li>
</ul>
</li>
<li>
<code><a href="reference/java_clear.html">java_clear()</a></code>
<ul>
<li>Removes all or some Java versions linked in the current project (or cached distributions or installations).</li>
</ul>
</li>
</ol>
<p>See more details on all the functions in the <a href="https://www.ekotov.pro/rJavaEnv/reference/index.html" target="_blank">Reference</a>.</p>
<p>For detailed usage, see the <a href="https://www.ekotov.pro/rJavaEnv/articles/rJavaEnv.html">Quick Start Vignette</a> (work in progress).</p>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<p>Currently, <code>rJavaEnv</code> only supports major Java versions such as 8, 11, 17, 21, 22. The download and install functions ignore the minor version of the Java distribution and just downloads the latest stable subversion of the specified major version. This is done to simplify the process and avoid the need to update the package every time a new minor version of Java is released. For most users this should be sufficient, but this is substandard for full reproducibility.</p>
<p>The main limitation is that if you want to switch to another Java environment, you will most likely have to restart the current R session and set the JAVA_HOME and PATH environment variables to the desired Java environment using <code><a href="reference/java_env_set.html">rJavaEnv::java_env_set()</a></code>. This cannot be done dynamically within the same R session due to the way Java is initialized in R, particularly with the <code>rJava</code>-dependent packages such as <a href="https://github.com/ipeaGIT/r5r" target="_blank" class="external-link"><code>r5r</code></a>. With packages like <a href="https://github.com/ropensci/opentripplanner" target="_blank" class="external-link"><code>opentripplanner</code></a>, that performs Java calls using command line, you can switch Java environments dynamically within the same R session as much as you want.</p>
<p>Therefore, if you need to use R packages that depend on different Java versions within the same project, you will have to create separate R scripts for each Java environment and run them in separate R sessions. One effective way of doing this is to use the <a href="https://github.com/r-lib/callr" target="_blank" class="external-link"><code>callr</code></a> package to run R scripts in separate R sessions. Another option is to use the <a href="https://github.com/ropensci/targets" target="_blank" class="external-link"><code>targets</code></a> package to manage the whole project workflow, which, as a side effect, will lead to all R scripts being run in separate R sessions. To use <code>rJavaEnv</code> with <code>targets</code>, you will need to download and install several Java environments using <code><a href="reference/java_download.html">rJavaEnv::java_download()</a></code> and <code><a href="reference/java_install.html">rJavaEnv::java_install()</a></code> and set the relevant path with <code><a href="reference/java_env_set.html">rJavaEnv::java_env_set()</a></code> at the beginning of each function that requires a certain Java version.</p>
</div>
<div class="section level2">
<h2 id="future-work">Future work<a class="anchor" aria-label="anchor" href="#future-work"></a>
</h2>
<p>The future work includes:</p>
<ul>
<li><p>Add support for more Java distributions and versions</p></li>
<li><p>Take care of <a href="https://solutions.posit.co/envs-pkgs/using-rjava/#reconfigure-r" target="_blank" class="external-link"><code>R CMD javareconf</code></a></p></li>
<li><p>Possibly add support for specifying Java version beyond the major version</p></li>
<li><p>Possibly allow downloading several Java distributions in one function call, e.g. different major versions of the same ‘flavour’ or different ‘flavours’ of the same major version</p></li>
<li><p>Possibly add automation to get the Java that is required by specific Java-dependent R packages</p></li>
</ul>
<p>I am open to suggestions and contributions, welcome to <a href="https://github.com/e-kotov/rJavaEnv/issues" target="_blank" class="external-link">issues</a> and <a href="https://github.com/e-kotov/rJavaEnv/pulls" target="_blank" class="external-link">pull requests</a>.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>I thank rOpenSci for the <a href="https://devguide.ropensci.org/" target="_blank" class="external-link">Dev Guide</a>, as well as Hadley Wickham and Jennifer Bryan for the <a href="https://r-pkgs.org/" target="_blank" class="external-link">R Packages</a> book.</p>
<p>Package hex sticker logo is partially generated by DALL-E by OpenAI. The logo also contains the original R logo.</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>To cite package ‘rJavaEnv’ in publications use:</p>
<p>Kotov E (2024). <em>rJavaEnv: Java Environments for R Projects</em>. <a href="doi:10.5281/zenodo.11403010" class="uri">doi:10.5281/zenodo.11403010</a> <a href="https://doi.org/10.5281/zenodo.11403010" class="external-link uri">https://doi.org/10.5281/zenodo.11403010</a>, <a href="https://github.com/e-kotov/rJavaEnv" class="external-link uri">https://github.com/e-kotov/rJavaEnv</a>.</p>
<p>BibTeX:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="sc">@</span>Manual{rjavaenv,</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  title <span class="ot">=</span> {rJavaEnv<span class="sc">:</span> Java Environments <span class="cf">for</span> R Projects},</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  author <span class="ot">=</span> {Egor Kotov},</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  year <span class="ot">=</span> {<span class="dv">2024</span>},</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  url <span class="ot">=</span> {https<span class="sc">:</span><span class="er">//</span>github.com<span class="sc">/</span>e<span class="sc">-</span>kotov<span class="sc">/</span>rJavaEnv},</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  doi <span class="ot">=</span> {<span class="fl">10.5281</span><span class="sc">/</span>zenodo<span class="fl">.11403010</span>},</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/e-kotov/rJavaEnv/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/e-kotov/rJavaEnv/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rJavaEnv</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.ekotov.pro" class="external-link">Egor Kotov</a> <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0001-6690-5345" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: WIP – Initial development is in progress, but there has not yet been a stable, usable release suitable for the public."></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" target="_blank" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://CRAN.R-project.org/package=rJavaEnv" target="_blank" class="external-link"><img src="https://www.r-pkg.org/badges/version/rJavaEnv" alt="CRAN status"></a></li>
<li><a href="https://github.com/e-kotov/rJavaEnv/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/e-kotov/rJavaEnv/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/e-kotov/rJavaEnv/actions?query=workflow%3Apkgcheck" class="external-link"><img src="https://github.com/e-kotov/rJavaEnv/workflows/pkgcheck/badge.svg" alt="pkgcheck"></a></li>
<li><a href="https://app.codecov.io/github/e-kotov/rJavaEnv" class="external-link"><img src="https://codecov.io/github/e-kotov/rJavaEnv/graph/badge.svg?token=2UKGZVNO5V" alt="codecov"></a></li>
<li><a href="https://dx.doi.org/10.5281/zenodo.11403009" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.11403009.svg" alt="DOI"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.ekotov.pro" class="external-link">Egor Kotov</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
